{"filter":false,"title":"deleteTeam_new.html","tooltip":"/main/templates/main/admin/deleteTeam_new.html","undoManager":{"mark":14,"position":14,"stack":[[{"start":{"row":7,"column":0},"end":{"row":69,"column":9},"action":"remove","lines":["<style>","\t.teamlist{width: 100%; text-align:center; border-collapse: collapse; border:1px solid #d0d0d0; font-size:12px}","\t.teamlist tr th{background-color: #86BCCB; padding: 10px; color:#FFFFFF}","\t.teamlist tr td{padding: 5px;}","</style>","","<script>","    $(function() {","    \t$('#addButton').click(function(event) {","\t\t\taddTeamList();","\t\t});","\t\t","\t\t$('#confirmButton').click(function(event) {","\t\t\t","\t\t\tvar teamArray = [];","\t\t\t$(\"table#teamlist tr\").each(function() {","\t\t\t    var middleArr = new Object();","\t\t\t    var tableData = $(this).find('td#teamname');","\t\t\t    if (tableData.length > 0) {","\t\t\t        tableData.each(function() {\tmiddleArr['teamname'] = $(this).text(); });","\t\t\t        teamArray.push(middleArr);","\t\t\t    }","\t\t\t});","\t\t\t","\t\t\tvar gameId = '{{game.gameid}}';","\t\t\tvar teamListString = JSON.stringify(teamArray);","\t\t\t","\t\t\t$.ajax({","\t\t\ttype : 'POST',","      \t\turl : '/addTeamProc/',","      \t\tdata : {","      \t\t\tgameId : gameId,","      \t\t\tteamList : teamListString,","      \t\t\t\"csrfmiddlewaretoken\": '{{ csrf_token }}',","      \t\t}","      \t\t}).done(function(responseText) {","          \t    if (responseText) {","          \t        alert(\"참가팀 등록을 완료 하였습니다\");","          \t        var url = '/adminGameTeam/' + gameId;","            \t    location.href = url;","          \t    }","          \t    ","      \t\t}).always(function() {","      \t\t","      \t\t}).error(function(request, status, error) {","      \t\t    alert(\"code:\" + request.status + \"\\n\" + \"message:\" + request.responseText + \"\\n\" + \"error:\" + error);","      \t\t});","\t\t});","\t});","\t","\tfunction addTeamList(){","\t\tvar teamname = $(\"#teamname\").val();","\t\tif (teamname) {","\t\t\t$(\"#teamlist\").append(\"<tr><td id='teamname'>\" + teamname + \"</td><td onclick='deleteRow(this)'><a href='#'>삭제</a></td></tr>\");","\t\t\t$(\"#teamname\").val(\"\");","\t\t}","\t}","\t","\tfunction deleteRow(obj) {","\t\trowIndex = $(obj).closest('tr').index();","\t\tdocument.getElementById(\"teamlist\").deleteRow(rowIndex);","\t}","</script>"],"id":2},{"start":{"row":7,"column":0},"end":{"row":73,"column":9},"action":"insert","lines":["<style>","\t#navText{font-size: 12px;}","\t.teamlist{width: 100%; text-align:center; border-collapse: collapse; border:1px solid #d0d0d0; font-size:14px}","\t.teamlist tr th{background-color: #86BCCB; padding: 10px; color:#FFFFFF;}","\t.teamlist tr td{padding:5px; padding:10px;}","\t","\t/*.teamlist #check{text-align:center; vertical-align:center;}*/","\t.teamlist #teamname{text-align:left; vertical-align:center;}","\t","\t.row1 { background: #fff; }","    .row2 { background: #f9f9f9; }","</style>","<script>","\t$(function() {","\t\t$('#delButton').click(function(event) {","\t\t\tevent.preventDefault();","\t\t\tif (confirm(\"참가자 삭제를 확정 하시겠습니까? \\n (삭제 대상관련 토너먼트 및 경기이력은 삭제됩니다\") == false) {","                return false;","            }","\t\t\t","\t\t\tvar teamArray = [];","\t\t\t$(\"table#teamlist tr\").each(function() {","\t\t\t    var middleArr = new Object();","\t\t\t    var tableData = $(this).find('input#checkbox');","\t\t\t    if (tableData.length > 0) {","\t\t\t        tableData.each(function() {","\t\t\t        \tif($(this)[0].checked == true) {","\t\t\t        \t\tmiddleArr['check'] = $(this)[0].checked;","\t\t\t        \t\tmiddleArr['teamid'] = $(this)[0].value;\t","\t\t\t        \t\tteamArray.push(middleArr);","\t\t\t        \t}","\t\t\t        });","\t\t\t    }","\t\t\t});","\t\t\t","\t\t\tif (teamArray.length < 1) {","\t\t\t\talert(\"선택한 팀이 없습니다\");","\t\t\t\treturn false;","\t\t\t}","\t\t\t","\t\t\tvar gameId = '{{game.gameid}}';","\t\t\tvar teamListString = JSON.stringify(teamArray);","\t\t\t","\t\t\tconsole.log(teamArray);","\t\t\t","\t\t\t$.ajax({","\t\t\ttype : 'POST',","      \t\turl : '/deleteTeamProc/',","      \t\tdata : {","      \t\t\tgameId : gameId,","      \t\t\tteamList : teamListString,","      \t\t\t\"csrfmiddlewaretoken\": '{{ csrf_token }}',","      \t\t}","      \t\t}).done(function(responseText) {","          \t    if (responseText) {","          \t        var url = '/adminGameTeam/' + gameId;","            \t    location.href = url;","          \t    }","          \t    ","      \t\t}).always(function() {","      \t\t","      \t\t}).error(function(request, status, error) {","      \t\t    alert(\"code:\" + request.status + \"\\n\" + \"message:\" + request.responseText + \"\\n\" + \"error:\" + error);","      \t\t});","\t\t});","\t});","</script>"]}],[{"start":{"row":73,"column":9},"end":{"row":74,"column":0},"action":"insert","lines":["",""],"id":3}],[{"start":{"row":83,"column":4},"end":{"row":94,"column":9},"action":"remove","lines":["<label for=\"teamname\">팀/선수명</label>","    <input type=\"text\" class=\"form-control\" id=\"teamname\" name=\"teamname\" onkeypress=\"if(event.keyCode==13) {addTeamList();}\">","    <button type=\"button\" class=\"btn btn-primary btn-block\" id=\"addButton\" name=\"addButton\">추가</button>","    <button type=\"button\" class=\"btn btn-warning btn-block\" id=\"confirmButton\" name=\"confirmButton\">확정</button>","    ","    <br>","\t<table id=\"teamlist\" class=\"teamlist\">","\t    <tr>","\t        <th>팀명</th>","\t        <th>삭제</th>","\t    </tr>","\t</table>"],"id":4},{"start":{"row":83,"column":4},"end":{"row":104,"column":9},"action":"insert","lines":["<button class=\"btn btn-warning btn-block\" name=\"deleteTeam\" id=\"delButton\" data-theme=\"d\">삭제확정</button>","    <br>","\t<table id=\"teamlist\" class=\"teamlist\">","\t    <colgroup>","\t\t\t<col width=\"15%\">","\t\t\t<col width=\"85%\">","\t\t</colgroup>","\t    <tr>","\t        <th>선택</th>","\t        <th>팀명</th>","\t    </tr>","\t\t","\t    {% for team in teams %}","\t    <tr class='{{rowidx}}'>","\t        <td id=\"check\">","\t            <input id=\"checkbox\" class='custom-checkbox' data-toggle=\"checkbox\" type='checkbox' value='{{team.teamid}}'>","\t        </td>","\t        <td id=\"teamname\">{{team.teamname}}</td>","\t    </tr>","\t    {% endfor %}","","\t</table>"]}],[{"start":{"row":82,"column":16},"end":{"row":82,"column":17},"action":"remove","lines":["가"],"id":5}],[{"start":{"row":82,"column":15},"end":{"row":82,"column":16},"action":"remove","lines":["추"],"id":6}],[{"start":{"row":82,"column":15},"end":{"row":82,"column":16},"action":"insert","lines":["삭"],"id":8}],[{"start":{"row":82,"column":16},"end":{"row":82,"column":18},"action":"insert","lines":["삭제"],"id":9}],[{"start":{"row":82,"column":18},"end":{"row":82,"column":19},"action":"insert","lines":["."],"id":10}],[{"start":{"row":82,"column":18},"end":{"row":82,"column":19},"action":"remove","lines":["."],"id":11}],[{"start":{"row":82,"column":16},"end":{"row":82,"column":17},"action":"remove","lines":["삭"],"id":12}],[{"start":{"row":82,"column":26},"end":{"row":83,"column":0},"action":"insert","lines":["",""],"id":13},{"start":{"row":83,"column":0},"end":{"row":83,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":83,"column":4},"end":{"row":83,"column":5},"action":"insert","lines":["<"],"id":14}],[{"start":{"row":83,"column":5},"end":{"row":83,"column":6},"action":"insert","lines":["b"],"id":15}],[{"start":{"row":83,"column":6},"end":{"row":83,"column":7},"action":"insert","lines":["r"],"id":16}],[{"start":{"row":83,"column":7},"end":{"row":83,"column":8},"action":"insert","lines":[">"],"id":17}]]},"ace":{"folds":[],"scrolltop":992.0000600814819,"scrollleft":0,"selection":{"start":{"row":83,"column":8},"end":{"row":83,"column":8},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1479971855158,"hash":"93ce004491d1e3a03b1833b03ac1e92ec11ef67a"}