{"filter":false,"title":"createTour_new.html","tooltip":"/main/templates/main/admin/createTour_new.html","undoManager":{"mark":18,"position":18,"stack":[[{"start":{"row":14,"column":4},"end":{"row":26,"column":10},"action":"remove","lines":["<form action = \"/createTour/{{game.gameid}}/\" method=\"post\">","        {% csrf_token %}","        <button class=\"btn btn-warning btn-block\" name=\"createTour\" data-theme=\"e\">토너먼트 생성</button>","    </form>","    <br>","    <div class=\"list-group\">","      {% for tour in tours %}","      <a href=\"/adminTourDetail/{{game.gameid}}/{{tour.tourid}}/\" class=\"list-group-item\">","        <p class=\"list-group-item-heading\"><b>{{tour.tourname}}</b></p>","        <p class=\"list-group-item-text\"><i>{{tour.teamcount}}팀 참가</i></p>","      </a>","      {% endfor %}","    </div>"],"id":2}],[{"start":{"row":14,"column":0},"end":{"row":14,"column":4},"action":"remove","lines":["    "],"id":3}],[{"start":{"row":13,"column":9},"end":{"row":14,"column":0},"action":"remove","lines":["",""],"id":4}],[{"start":{"row":13,"column":9},"end":{"row":14,"column":0},"action":"insert","lines":["",""],"id":5},{"start":{"row":14,"column":0},"end":{"row":14,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":14,"column":4},"end":{"row":15,"column":0},"action":"insert","lines":["",""],"id":6},{"start":{"row":15,"column":0},"end":{"row":15,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":15,"column":4},"end":{"row":18,"column":10},"action":"insert","lines":["<div class=\"form-group\">","      <label for=\"insertuser\">작성자</label>","      <input class=\"form-control\" id=\"insertuser\" type=\"text\" value=\"{{board.insertuser.first_name}}\" disabled>","    </div>"],"id":7}],[{"start":{"row":18,"column":10},"end":{"row":19,"column":0},"action":"insert","lines":["",""],"id":8},{"start":{"row":19,"column":0},"end":{"row":19,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":19,"column":4},"end":{"row":20,"column":0},"action":"insert","lines":["",""],"id":9},{"start":{"row":20,"column":0},"end":{"row":20,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":20,"column":4},"end":{"row":23,"column":10},"action":"insert","lines":["<div class=\"form-group\">","      <label for=\"insertdate\">작성일</label>","        <input class=\"form-control\" id=\"insertdate\" type=\"text\" value=\"{{board.insertdate}}\" disabled>","    </div>"],"id":10}],[{"start":{"row":15,"column":4},"end":{"row":23,"column":10},"action":"remove","lines":["<div class=\"form-group\">","      <label for=\"insertuser\">작성자</label>","      <input class=\"form-control\" id=\"insertuser\" type=\"text\" value=\"{{board.insertuser.first_name}}\" disabled>","    </div>","    ","    <div class=\"form-group\">","      <label for=\"insertdate\">작성일</label>","        <input class=\"form-control\" id=\"insertdate\" type=\"text\" value=\"{{board.insertdate}}\" disabled>","    </div>"],"id":11},{"start":{"row":15,"column":4},"end":{"row":27,"column":11},"action":"insert","lines":["<h2><b>{{game.gamename}}</b></h2>","    <form action = \"/createNewTour/\" method=\"post\">","        {% csrf_token %}","        <div class=\"form-group\">","          <label for=\"tourname\">토너먼트명</label>","          <input type=\"text\" class=\"form-control\" id=\"tourname\" name=\"tourname\">","        </div>","        <div class=\"form-group\">","          <label for=\"teamcount\">참가팀수</label>","          <input type=\"number\" class=\"form-control\" id=\"teamcount\" name=\"teamcount\">","        </div>","        <button class=\"btn btn-primary btn-block\" id=\"createNewTour\" name=\"createNewTour\">생성</button>","    </form>"]}],[{"start":{"row":15,"column":37},"end":{"row":16,"column":0},"action":"insert","lines":["",""],"id":12},{"start":{"row":16,"column":0},"end":{"row":16,"column":4},"action":"insert","lines":["    "]},{"start":{"row":16,"column":4},"end":{"row":16,"column":5},"action":"insert","lines":["<"]}],[{"start":{"row":16,"column":5},"end":{"row":16,"column":6},"action":"insert","lines":["b"],"id":13}],[{"start":{"row":16,"column":6},"end":{"row":16,"column":7},"action":"insert","lines":["r"],"id":14}],[{"start":{"row":16,"column":7},"end":{"row":16,"column":8},"action":"insert","lines":[">"],"id":15}],[{"start":{"row":6,"column":0},"end":{"row":52,"column":9},"action":"insert","lines":["<script>","    $(function() {","        $('#gamename').val('{{game.gamename}}');","        $('#createNewTour').click(function(event) {","            event.preventDefault();","            ","            var gameid = '{{game.gameid}}';","            var tourname = $('#tourname').val();","            var teamcount = $('#teamcount').val();","            ","            if (tourname == '') {","                alert('토너먼트명은 필수입니다');","                return false;","            };","            ","            if (teamcount == '') {","                alert('참가팀 수는 필수입니다');","                return false;","            } else if(teamcount == '1') {","                alert('참가팀 수가 1명인 경우는 등록할 수 없습니다');","                return false;","            };","            ","            $.ajax({","      \t\t\t\ttype : 'POST',","      \t\t\t\turl : '/createNewTour/',","      \t\t\t\tdata : {","      \t\t\t\t  gameid : gameid,","      \t\t\t\t\ttourname : tourname,","      \t\t\t\t\tteamcount : teamcount,","      \t\t\t\t\t\"csrfmiddlewaretoken\": \"{{ csrf_token }}\",","      \t\t\t\t}","      \t\t    \t}).done(function(responseText) {","          \t\t\t    if (responseText) {","          \t\t\t      alert('토너먼트 생성에 성공하였습니다. 토너먼트 관리 페이지로 이동합니다')","          \t\t\t        var url = '/adminTourDetail/' + '{{game.gameid}}' + '/' + responseText + '/';","            \t\t\t      location.href = url;","          \t\t\t    }","          \t\t\t    ","      \t\t\t    }).always(function() {","      \t\t\t","      \t\t\t    }).error(function(request, status, error) {","      \t\t\t\t    alert(\"code:\" + request.status + \"\\n\" + \"message:\" + request.responseText + \"\\n\" + \"error:\" + error);","      \t\t\t    });","              })","    });","</script>"],"id":16}],[{"start":{"row":63,"column":0},"end":{"row":64,"column":24},"action":"remove","lines":["    <form action = \"/createNewTour/\" method=\"post\">","        {% csrf_token %}"],"id":17}],[{"start":{"row":62,"column":8},"end":{"row":63,"column":0},"action":"remove","lines":["",""],"id":18}],[{"start":{"row":72,"column":0},"end":{"row":72,"column":11},"action":"remove","lines":["    </form>"],"id":19}],[{"start":{"row":71,"column":101},"end":{"row":72,"column":0},"action":"remove","lines":["",""],"id":20},{"start":{"row":71,"column":4},"end":{"row":71,"column":8},"action":"remove","lines":["    "]},{"start":{"row":70,"column":4},"end":{"row":70,"column":8},"action":"remove","lines":["    "]},{"start":{"row":69,"column":4},"end":{"row":69,"column":8},"action":"remove","lines":["    "]},{"start":{"row":68,"column":4},"end":{"row":68,"column":8},"action":"remove","lines":["    "]},{"start":{"row":67,"column":4},"end":{"row":67,"column":8},"action":"remove","lines":["    "]},{"start":{"row":66,"column":4},"end":{"row":66,"column":8},"action":"remove","lines":["    "]},{"start":{"row":65,"column":4},"end":{"row":65,"column":8},"action":"remove","lines":["    "]},{"start":{"row":64,"column":4},"end":{"row":64,"column":8},"action":"remove","lines":["    "]},{"start":{"row":63,"column":4},"end":{"row":63,"column":8},"action":"remove","lines":["    "]}]]},"ace":{"folds":[],"scrolltop":817.9163970947266,"scrollleft":0,"selection":{"start":{"row":69,"column":35},"end":{"row":69,"column":35},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1479880013451,"hash":"63c4d8ad16e104cda1b4b346117599a2651a7674"}