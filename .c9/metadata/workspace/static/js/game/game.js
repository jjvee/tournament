{"changed":true,"filter":false,"title":"game.js","tooltip":"/static/js/game/game.js","value":"var g_matchRuleDB;\n/*= [\n\t\t// 2명일때\n\t\t[ [ 1, 2, 1 ] ],\n\n\t\t// 3명일때\n\t\t[ [ 1, 2, 1 ], [ 101, 3, 2 ] ],\n\n\t\t// 4명일때\n\t\t[ [ 1, 2, 1 ], [ 3, 4, 1 ], [ 101, 102, 2 ] ],\n\n\t\t// 5명일때\n\t\t[ [ 1, 2, 1 ], [ 101, 3, 2 ], [ 4, 5, 2 ], [ 102, 103, 3 ] ],\n\n\t\t// 6명일때\n\t\t[ [ 1, 2, 1 ], [ 4, 5, 1 ], [ 101, 3, 2 ], [ 102, 6, 2 ],\n\t\t\t\t[ 103, 104, 3 ] ],\n\n\t\t// 7명일때\n\t\t[ [ 1, 2, 1 ], [ 3, 4, 1 ], [ 5, 6, 1 ], [ 101, 102, 2 ],\n\t\t\t\t[ 103, 7, 2 ], [ 104, 105, 3 ] ],\n\n\t\t// 8명일때\n\t\t[ [ 1, 2, 1 ], [ 3, 4, 1 ], [ 5, 6, 1 ], [ 7, 8, 1 ], [ 101, 102, 2 ],\n\t\t\t\t[ 103, 104, 2 ], [ 105, 106, 3 ] ],\n\n\t\t// 9명일때\n\t\t[ [ 1, 2, 1 ], [ 101, 3, 2 ], [ 4, 5, 2 ], [ 6, 7, 2 ], [ 8, 9, 2 ],\n\t\t\t\t[ 102, 103, 3 ], [ 104, 105, 3 ], [ 106, 107, 4 ] ],\n\n\t\t// 10명일때\n\t\t[ [ 1, 2, 1 ], [ 6, 7, 1 ], [ 101, 3, 2 ], [ 4, 5, 2 ], [ 102, 8, 2 ],\n\t\t\t\t[ 9, 10, 2 ], [ 103, 104, 3 ], [ 105, 106, 3 ], [ 107, 108, 4 ] ],\n\n\t\t// 11명일때\n\t\t[ [ 1, 2, 1 ], [ 4, 5, 1 ], [ 7, 8, 1 ], [ 101, 3, 2 ], [ 102, 6, 2 ],\n\t\t\t\t[ 103, 9, 2 ], [ 10, 11, 2 ], [ 104, 105, 3 ], [ 106, 107, 3 ],\n\t\t\t\t[ 108, 109, 4 ] ],\n\t\t\n\t\t\t\n\t\t// 12명일때\n\t\t[ [ 1, 2, 1 ], [ 4, 5, 1 ], [ 7, 8, 1 ], [ 10, 11, 1 ], [ 101, 3, 2 ],\n\t\t\t\t[ 102, 6, 2 ], [ 103, 9, 2 ], [ 104, 12, 2 ], [ 105, 106, 3 ],\n\t\t\t\t[ 107, 108, 3 ], [ 109, 110, 4 ] ],\n\n\t\t\t1,2,1,0,0,////4,5,1,0,0,////7,8,1,0,0///,10,11,1,0,0,///101,3,2,0,0,///102,6,2,0,0,\n\t\t\t103,9,2,0,0,///104,12,2,0,0///,105,106,3,0,0///,107,108,3,0,0///,109,110,4,0,0\n\n\t\t// 13명일때\n\t\t[ [ 1, 2, 1 ], [ 3, 4, 1 ], [ 5, 6, 1 ], [ 8, 9, 1 ], [ 11, 12, 1 ],\n\t\t\t\t[ 101, 102, 2 ], [ 103, 7, 2 ], [ 104, 10, 2 ], [ 105, 13, 2 ],\n\t\t\t\t[ 106, 107, 3 ], [ 108, 109, 3 ], [ 110, 111, 4 ] ],\n\n\t\t\t1,2,1,0,0   /////,101,4,1,0,0/////,102,6,1,0,0,////8,9,1,0,0/////,11,12,1,0,0/////\n\t\t\t,103,7,2,0,0/////,104,10,2,0,0////,105,13,2,0,0,///106,107,3,0,0,////108,109,3,0,0,///109,110,4,\n\t\t\t\n\t\t// 14명일때\n\t\t[ [ 1, 2, 1 ], [ 3, 4, 1 ], [ 5, 6, 1 ], [ 8, 9, 1 ], [ 10, 11, 1 ],\n\t\t\t\t[ 12, 13, 1 ], [ 101, 102, 2 ], [ 103, 7, 2 ], [ 104, 105, 2 ],\n\t\t\t\t[ 106, 14, 2 ], [ 107, 108, 3 ], [ 109, 110, 3 ],\n\t\t\t\t[ 111, 112, 4 ] ],\n\n\t\t// 15명일때\n\t\t[ [ 1, 2, 1 ], [ 3, 4, 1 ], [ 5, 6, 1 ], [ 7, 8, 1 ], [ 9, 10, 1 ],\n\t\t\t\t[ 11, 12, 1 ], [ 13, 14, 1 ], [ 101, 102, 2 ], [ 103, 104, 2 ],\n\t\t\t\t[ 105, 106, 2 ], [ 107, 15, 2 ], [ 108, 109, 3 ],\n\t\t\t\t[ 110, 111, 3 ], [ 112, 113, 4 ] ],\n\n\t\t// 16명일때\n\t\t[ [ 1, 2, 1 ], [ 3, 4, 1 ], [ 5, 6, 1 ], [ 7, 8, 1 ], [ 9, 10, 1 ],\n\t\t\t\t[ 11, 12, 1 ], [ 13, 14, 1 ], [ 15, 16, 1 ], [ 101, 102, 2 ],\n\t\t\t\t[ 103, 104, 2 ], [ 105, 106, 2 ], [ 107, 108, 2 ],\n\t\t\t\t[ 109, 110, 3 ], [ 111, 112, 3 ], [ 113, 114, 4 ] ],\n\n\t\t// 17명일때\n\t\t[ [ 1, 2, 1 ], [ 101, 3, 2 ], [ 4, 5, 2 ], [ 6, 7, 2 ], [ 8, 9, 2 ],\n\t\t\t\t[ 10, 11, 2 ], [ 12, 13, 2 ], [ 14, 15, 2 ], [ 16, 17, 2 ],\n\t\t\t\t[ 102, 103, 3 ], [ 104, 105, 3 ], [ 106, 107, 3 ],\n\t\t\t\t[ 108, 109, 3 ], [ 110, 111, 4 ], [ 112, 113, 4 ],\n\t\t\t\t[ 114, 115, 5 ] ],\n\n\t\t// 18명일때\n\t\t[ [ 1, 2, 1 ], [ 10, 11, 1 ], [ 101, 3, 2 ], [ 4, 5, 2 ], [ 6, 7, 2 ],\n\t\t\t\t[ 8, 9, 2 ], [ 102, 12, 2 ], [ 13, 14, 2 ], [ 15, 16, 2 ],\n\t\t\t\t[ 17, 18, 2 ], [ 103, 104, 3 ], [ 105, 106, 3 ],\n\t\t\t\t[ 107, 108, 3 ], [ 109, 110, 3 ], [ 111, 112, 4 ],\n\t\t\t\t[ 113, 114, 4 ], [ 115, 116, 5 ] ],\n\n\t\t// 19명일때\n\t\t[ [ 1, 2, 1 ], [ 6, 7, 1 ], [ 11, 12, 1 ], [ 101, 3, 2 ], [ 4, 5, 2 ],\n\t\t\t\t[ 102, 8, 2 ], [ 9, 10, 2 ], [ 103, 13, 2 ], [ 14, 15, 2 ],\n\t\t\t\t[ 16, 17, 2 ], [ 18, 19, 2 ], [ 104, 105, 3 ], [ 106, 107, 3 ],\n\t\t\t\t[ 108, 109, 3 ], [ 110, 111, 3 ], [ 112, 113, 4 ],\n\t\t\t\t[ 114, 115, 4 ], [ 116, 117, 5 ] ],\n\n\t\t// 20명일때\n\t\t[ [ 1, 2, 1 ], [ 6, 7, 1 ], [ 11, 12, 1 ], [ 16, 17, 1 ],\n\t\t\t\t[ 101, 3, 2 ], [ 4, 5, 2 ], [ 102, 8, 2 ], [ 9, 10, 2 ],\n\t\t\t\t[ 103, 13, 2 ], [ 14, 15, 2 ], [ 104, 18, 2 ], [ 19, 20, 2 ],\n\t\t\t\t[ 105, 106, 3 ], [ 107, 108, 3 ], [ 109, 110, 3 ],\n\t\t\t\t[ 111, 112, 3 ], [ 113, 114, 4 ], [ 115, 116, 4 ],\n\t\t\t\t[ 117, 118, 5 ] ] ];\n*/\n\nvar RuleDBList;\nvar artmp2;\nvar artmp;\nvar arMatchCntList;\n\nvar real = -1; // 큐의 입력 위치 \nvar seq = 0;\nvar matcnt = 1;\n\nfunction q_push(a,b,c) {\n\n\tif (real == 100 - 1) { \n\t}\n\telse\n\t{\n\t\treal++;\n\t\tRuleDBList[real][0] = a;\n\t\tRuleDBList[real][1] = b;\n\t\tRuleDBList[real][2] = c;\n\t}\n\n}\n//function printQueue() {\n//\tint i;\n//\tfor (i = 0; i <= real; i++) {\n//\t\tprintf(\" %d %d %d \\n\", RuleDBList[i][0], RuleDBList[i][1], RuleDBList[i][2]);\n//\t}\n//\tprintf(\"\\n\");\n//}\n\nfunction recur(iPlaynum, start, end, d, sq)\n{\n\t\n\tiPlaynum = end - start;\n\t\n\tif (end - start > 2)\n\t{\n\t\tvar pivot = 0;\n\t\tif (iPlaynum % 2 == 0)\n\t\t{\n\t\t\tpivot = iPlaynum / 2;\n\t\t\trecur(pivot, start, start + pivot, d + 1, sq);\n\t\t\trecur(pivot, end - pivot, end, d + 1, sq);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tpivot = Math.floor(iPlaynum / 2 + 1);\n\t\t\trecur(pivot, start, start + pivot, d + 1, sq);\n\t\t\trecur(pivot, end - pivot + 1, end, d + 1, sq);\n\t\t}\n\t}\n\telse\n\t{\n\t\t//console.log(\"matcnt : \" + matcnt);\n\t\tartmp2[matcnt - 1][0] = arMatchCntList[start];\n\t\n\t\tartmp2[matcnt - 1][2] = seq - d + 1;\n\t\tartmp2[matcnt - 1][3] = seq - d + 1;\n\t\tif (end - start == 2 && d == sq) {\n\t\t\tartmp2[matcnt - 1][1] = arMatchCntList[start + 1];\n\t\t\tartmp2[matcnt - 1][3] = seq - d;\n\t\t}\n\t\telse if (end - start == 2 && d != sq) {\n\t\t\tartmp2[matcnt - 1][1] = arMatchCntList[start + 1];\n\t\t}\n\t\telse {\n\t\t\tartmp2[matcnt - 1][1] = 0;\n\t\t}\n\n\t\tif (artmp2[matcnt - 1][1] == 0)\n\t\t\tartmp2[matcnt - 1][1] = arMatchCntList[start];\n\n\t\tmatcnt++;\n\t}\n}\n\nfunction makeMatchRule(iPlayerNum)\n{\n\t//int iPlayerNum = 20;\n\n\t\n\tvar iCnt = 0;\n\t//var matcnt = 0;\n\tvar iCount = 0;\n\tvar t = 1;\n\t\n\t\n\t\n\tif(seq == 0)\n\t{\n\t\tarMatchCntList = new Array(100);\n\t\tRuleDBList = new Array(100);\n\t\tartmp2 = new Array(100);\n\t\tartmp = new Array(100);\n\t\t\n\t\tfor(t = 0; t< 100; t++)\n\t\t{\n\t\t\tRuleDBList[t] = new Array(5);\n\t\t\tartmp2[t] = new Array(5);\n\t\t\tartmp[t] = new Array(5);\n\t\t}\n\t}\n\t\n\t\n\t\n\tfor(t = 0; t< 100; t++)\n\t{\n\t\tarMatchCntList[t] = 0;\n\t\tfor(var w = 0; w< 5; w++)\n\t\t{\n\t\t\tRuleDBList[t][w] = 0;\n\t\t\tartmp2[t][w] = 0;\n\t\t\tartmp[t][w] = 0;\n\t\t}\n\t}\n\t\n\treal = -1; // 큐의 입력 위치 \n\t\n\tt = 1;\n\tseq = 0;\n\twhile (t <= iPlayerNum)\n\t{\n\t\tt = t * 2;\n\t\tseq++;\n\t}\n\tt /= 2;\n\t\n\t//console.log(\"seq : \" + seq + \" iPlayerNum : \" + iPlayerNum);\n\n\tfor (iCnt = 0; iCnt < iPlayerNum; iCnt++)\n\t{\n\t\tarMatchCntList[iCnt] = iCnt + 1;\n\t}\n\t\n\t\n\tmatcnt = 1;\n\t//\n\t//console.log(\"iPlayerNum : \\n\" + iPlayerNum + \" seq : \\n\" + seq );\n\t//console.log(\"matcnt = \" + matcnt);\n\trecur(iPlayerNum, 0, iPlayerNum, 1, seq);\n\n\t\n\n\tmatcnt = 0;\n\tiCount = 0;\n\n\tfor (iCnt = 0; iCnt < iPlayerNum; iCnt++)\n\t{\n\t\t//first 부전경기\n\t\tif ((artmp2[iCnt][3] == 0 && artmp2[iCnt][0] != 0  ))\n\t\t{\n\t\t\tartmp[matcnt][0] = artmp2[iCnt][0];\n\t\t\tartmp[matcnt][1] = artmp2[iCnt][1];\n\t\t\tartmp[matcnt][2] = iCount;\n\t\t\tif (artmp2[iCnt+1][3] != 0)\n\t\t\t\tartmp2[iCnt + 1][0] = 100 + matcnt + 1;\n\t\t\tmatcnt++;\n\n\t\t\tq_push(artmp2[iCnt][0], artmp2[iCnt][1], 1);\n\t\t}\n\t}\n\t//console.log(\"artmp2 : \\n\" + artmp2);\n\t//console.log(\"RuleDBList : \\n\" + RuleDBList);\n\n\tvar asd = 1;\n\tvar iCount = 0;\n\n\tfor (iCnt = 0; iCnt < iPlayerNum; iCnt++)\n\t{\n\t\t//first 부전경기\n\t\tif(iPlayerNum == 15)\n\t\t\tiCount = iCnt;\n\t\t\n\t\tif ((artmp2[iCnt][3] != 0 && artmp2[iCnt][0] != 0))\n\t\t{\n\t\t\tartmp[matcnt][0] = artmp2[iCnt][0];\n\t\t\tartmp[matcnt][1] = artmp2[iCnt][1];\n\t\t\tartmp[matcnt][2] = 1;\n\t\t\tmatcnt++;\n\t\t\tiCount++;\n\t\t\tq_push(artmp2[iCnt][0], artmp2[iCnt][1], 2);\n\t\t\t\n\t\t\t//console.log(\"일반 부전 artmp2123123 : \"+asd+\" \" + iCnt + \"\\n\" + artmp2);\n\t\t\t//console.log(\"RuleDBList123123 : \\n\" + RuleDBList);\n\t\t\t//asd++;\n\t\t}\n\t\telse if ((artmp2[iCnt][3] == 0 && artmp2[iCnt+1][3] == 0  && artmp2[iCnt][0] != 0))\n\t\t{\n\t\t\n\t\t\tartmp[matcnt][0] = iCount+101;\n\t\t\tartmp[matcnt][1] = iCount+1+101;\n\t\t\tartmp[matcnt][2] = 1;\n\t\t\tiCount++;\n//\t\t\tartmp2[iCnt][0] = 100 + matcnt + 1;\n//\t\t\tartmp2[iCnt][1] = 100 + matcnt + 1;\n\t\t\n\t\t\tq_push(artmp[matcnt][0], artmp[matcnt][1], 2);\n\t\t\tmatcnt++;\n\t\t\tiCnt++;\n\t\t\t//console.log(\"부전 없이 artmp2123123 : \"+asd + \" \" + iCnt+\" \\n\" + artmp2);\n\t\t\t//console.log(\"RuleDBList123123 : \\n\" + RuleDBList);\n\t\t\t//asd++;\n\t\t}\n\t\telse\n\t\t\t{\n\t\t\tiCount++;\n\t\t\t//console.log(\"그냥 넘음 \" + iCnt +\" \\n\");\n\t\t\t}\n\t\t\n\t}\n\n\t//console.log(\"artmp2 : \\n\" + artmp2);\n\t//console.log(\"RuleDBList : \\n\" + RuleDBList);\n\t\n\tfor (iCnt = 0; iCnt < iPlayerNum; iCnt++)\n\t{\n\t\tif (artmp[iCnt][2] >= 1)\n\t\t\tartmp[iCnt][2] = 1;\n\n\t\tartmp2[iCnt][0] = artmp[iCnt][0];\n\t\tartmp2[iCnt][1] = artmp[iCnt][1];\n\t\tartmp2[iCnt][2] = artmp[iCnt][2];\n\t}\n\n\n\tfor (var iCnt2 = 1; iCnt2 < seq-1; iCnt2++)\n\t{\n\t\tvar q = 0;\n\t\tfor (iCnt = 0; iCnt < iPlayerNum; iCnt++)\n\t\t{\n\t\t\tif (artmp2[iCnt][2] == iCnt2)\n\t\t\t{\n\n\t\t\t\tvar a = iCnt + 1;\n\t\t\t\tvar b = iCnt + 2;\n\t\t\t\tq_push(100 + a, 100 + b, iCnt2 + 2);\n\t\t\t\tiCnt += 1;\n\t\t\t}\n\t\t}\n\t\tfor (iCnt = 0; iCnt < iPlayerNum; iCnt++)\n\t\t{\n\t\t\tif (artmp2[iCnt][2] == iCnt2)\n\t\t\t{\n\n\t\t\t\tvar a = iCnt + 1;\n\t\t\t\tvar b = iCnt + 2;\n\t\t\t\tartmp[matcnt][0] = 100 + a;\n\t\t\t\tartmp[matcnt][1] = 100 + b;\n\t\t\t\tartmp[matcnt][2] = iCnt2 + 1;\n\t\t\t\tmatcnt++;\n\t\t\t\tiCnt += 1;\n\t\t\t}\n\t\t}\n\t\tfor (iCnt = 0; iCnt < iPlayerNum; iCnt++)\n\t\t{\n\t\t\tartmp2[iCnt][0] = artmp[iCnt][0];\n\t\t\tartmp2[iCnt][1] = artmp[iCnt][1];\n\t\t\tartmp2[iCnt][2] = artmp[iCnt][2];\n\t\t}\n\t}\n\t\n\t//console.log(\"t = \" + t + \" iPlayerNum : \" + iPlayerNum);\n\tif(t == iPlayerNum)\n\t{\n\t\tseq--;\n\t\tfor(t = 0 ;t < 100; t++)\n\t\t{\n\t\t\tRuleDBList[t][2]--;\n\t\t}\n\t}\n\t\t\n\t\n\tg_matchRuleDB = RuleDBList;\n//\tconsole.log(\"artmp2 :\\n\"+artmp2);\n//\tconsole.log(\"artmp :\\n\"+artmp);\n//\tconsole.log(\"RuleDBList :\\n\"+RuleDBList);\n}\n\nfunction showGameListGrid(jsonArray, path) {\n\t// jsonArray 를 jsonString 으로 변환.\n\tvar jsonData = JSON.stringify(jsonArray);\n\n\t$('#GameList').jqGrid('setGridParam', {\n\t\tdatatype : 'jsonstring',\n\t\tdatastr : jsonData,\n\t}).trigger('reloadGrid');\n\n\t$(\"#GameList\").jqGrid({\n\t\tdatatype : 'jsonstring',\n\t\tdatastr : jsonData,\n\t\tzIndex : 1,\n\t\tcolModel : [ {\n\t\t\tlabel : '대회ID',\n\t\t\tname : 'gameId',\n\t\t\thidden : true\n\t\t}, {\n\t\t\tlabel : '대회명',\n\t\t\tname : 'gameName',\n\t\t\twidth : 300,\n\t\t\talign : \"center\", /* formatter: linkGameDetail */\n\t\t}, {\n\t\t\tlabel : '지  역',\n\t\t\tname : 'region',\n\t\t\twidth : 50,\n\t\t\talign : \"center\"\n\t\t}, {\n\t\t\tlabel : '개최자',\n\t\t\tname : 'owner',\n\t\t\twidth : 100,\n\t\t\talign : \"center\"\n\t\t}, {\n\t\t\tlabel : '개최일',\n\t\t\tname : 'beginDate',\n\t\t\twidth : 100,\n\t\t\talign : \"center\"\n\t\t}, {\n\t\t\tlabel : '종료일',\n\t\t\tname : 'endDate',\n\t\t\twidth : 100,\n\t\t\talign : \"center\"\n\t\t}, ],\n\t\tviewrecords : true,\n\t\twidth : 800,\n\t\t// height: 400,\n\t\trowNum : 30,\n\t\t// caption : '대회 검색결과',\n\t\tpager : '#jqGridPager',\n\t\tjsonReader : {\n\t\t// root: 'rows'\n\t\t},\n\t\tloadComplete : function() {\n\t\t},\n\t\tonSelectRow : function(rowid, status, e) {\n\t\t\tvar rowData = $(this).getRowData(rowid);\n\t\t\tvar url = path + \"?gameId=\" + rowData.gameId;\n\t\t\tlocation.href = url;\n\t\t}\n\t});\n\t$('#GameList').css('font-size', '15px');\n}\n\nfunction linkGameDetail(cellval, options, rowObject) {\n\tvar gameId = rowObject.gameId;\n\tvar url = \"gameMain.php\";\n\treturn \"<a href='\" + url + \"?gameId=\" + gameId\n\t\t\t+ \"' style='text-decoration:blink;'>\" + cellval + \"</a>\";\n}\n\nfunction showGameStatusByClass(classArr, genderArr, levelArr, teamArr, webFlag) {\n\tvar htmlTag = \"\";\n\n\t//console.log(webFlag);\n\t// 부\n\thtmlTag += \"<table>\";\n\tfor (var c = 0; c < classArr.length; c++) {\n\n\t\tif (webFlag == 'web') {\n\t\t\tif (c % 2 == 0) {\n\t\t\t\thtmlTag += \"<tr>\";\n\t\t\t}\n\t\t} else {\n\t\t\thtmlTag += \"<tr>\";\n\t\t}\n\n\t\thtmlTag += \"<td id='GameStatusTable'>\" + classArr[c]\n\t\t\t\t+ \"<table id='GameStatusByClass' border='1'>\";\n\n\t\tclassArr[c] = classArr[c].substring(0, 2);\n\n\t\t// 성별\n\t\tfor (var g = 0; g <= genderArr.length + 1; g++) {\n\t\t\thtmlTag += \"<tr>\";\n\n\t\t\t// 급\n\t\t\tfor (var l = 0; l <= levelArr.length; l++) {\n\t\t\t\tif (g == 0) {\n\t\t\t\t\tif (l < levelArr.length) {\n\t\t\t\t\t\tif (l == 0) {\n\t\t\t\t\t\t\thtmlTag += \"<th>구분</th>\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\thtmlTag += \"<th>\" + levelArr[l] + \"</th>\";\n\t\t\t\t\t} else if (l = levelArr.length) {\n\t\t\t\t\t\thtmlTag += \"<th>팀수</th>\";\n\t\t\t\t\t}\n\t\t\t\t} else if (g != 0 && g <= genderArr.length) {\n\t\t\t\t\tvar g1 = g - 1;\n\t\t\t\t\tif (l < levelArr.length) {\n\t\t\t\t\t\tif (l == 0) {\n\t\t\t\t\t\t\thtmlTag += \"<th><b>\" + genderArr[g1] + \"</b></th>\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\thtmlTag += \"<td id='\" + c + \"_\" + l + \"_\" + g1 + \"'>\"\n\t\t\t\t\t\t\t\t+ 0 + \"</td>\";\n\t\t\t\t\t} else if (l = levelArr.length) {\n\t\t\t\t\t\thtmlTag += \"<td bgcolor='#EAEAEA' id='\" + c + \"_\" + g1\n\t\t\t\t\t\t\t\t+ \"_gsum'>\" + 0 + \"</td>\";\n\t\t\t\t\t}\n\t\t\t\t} else if (g == genderArr.length + 1) {\n\t\t\t\t\tif (l < levelArr.length) {\n\t\t\t\t\t\tif (l == 0) {\n\t\t\t\t\t\t\thtmlTag += \"<th><b>계</b></th>\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\thtmlTag += \"<td bgcolor='#EAEAEA' id='\" + c + \"_\" + l\n\t\t\t\t\t\t\t\t+ \"_lsum'>\" + 0 + \"</td>\";\n\t\t\t\t\t} else if (l = levelArr.length) {\n\t\t\t\t\t\thtmlTag += \"<td bgcolor='#CEFBC9' id='\" + c + \"_csum'>\"\n\t\t\t\t\t\t\t\t+ 0 + \"</td>\";\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\thtmlTag += \"</tr>\";\n\t\t}\n\t\thtmlTag += \"</table></td>\";\n\n\t\tif (webFlag == 'web') {\n\t\t\tif (c % 2 != 0) {\n\t\t\t\thtmlTag += \"</tr>\";\n\t\t\t}\n\t\t} else {\n\t\t\thtmlTag += \"</tr>\";\n\t\t}\n\t}\n\thtmlTag += \"</table><br><br>\";\n\n\t$(\"#GameGeneralInfoDetail\").html(htmlTag);\n\n\tfor (var t = 0; t < teamArr.length; t++) {\n\t\tvar teamCountId = classArr.indexOf(teamArr[t][\"age\"]) + \"_\"\n\t\t\t\t+ levelArr.indexOf(teamArr[t][\"level\"]) + \"_\"\n\t\t\t\t+ genderArr.indexOf(teamArr[t][\"gender\"]);\n\n\t\tvar classSumId = classArr.indexOf(teamArr[t][\"age\"]) + \"_csum\";\n\n\t\tvar genderSumId = classArr.indexOf(teamArr[t][\"age\"]) + \"_\"\n\t\t\t\t+ genderArr.indexOf(teamArr[t][\"gender\"]) + \"_gsum\";\n\n\t\tvar levelSumId = classArr.indexOf(teamArr[t][\"age\"]) + \"_\"\n\t\t\t\t+ levelArr.indexOf(teamArr[t][\"level\"]) + \"_lsum\";\n\n\t\t// html 상의 class_level_gender ID에 teamCount입력.\n\t\tvar teamCount = parseInt($(\"#\" + teamCountId).html()) + 1;\n\t\t$(\"#\" + teamCountId).html(teamCount);\n\n\t\t// class별 팀수sum에 기존값 + 신규값\n\t\tvar classSum = parseInt($(\"#\" + classSumId).html()) + 1;\n\t\t$(\"#\" + classSumId).html(classSum);\n\n\t\t// gender별 팀수sum에 기존값 + 신규값\n\t\tvar genderSum = parseInt($(\"#\" + genderSumId).html()) + 1;\n\t\t$(\"#\" + genderSumId).html(genderSum);\n\n\t\t// level별 팀수sum에 기존값 + 신규값\n\t\tvar levelSum = parseInt($(\"#\" + levelSumId).html()) + 1;\n\t\t$(\"#\" + levelSumId).html(levelSum);\n\t}\n\n}\n\n\nfunction showTourAtGameMainTourMo(tourArr) {\n\tvar jsonData = JSON.stringify(tourArr);\n\tvar htmlTag = \"<table id='TourStatusTable'></table>\";\n\t$(\"#GameGeneralInfoDetail\").html(htmlTag);\n\n\t// console.log(\"TourStatusTable : \" + TourStatusTable + \" jsonData : \" +\n\t// jsonData);\n\n\t$('#TourStatusTable').jqGrid('setGridParam', {\n\t\tdatatype : 'jsonstring',\n\t\tdatastr : jsonData,\n\t}).trigger('reloadGrid');\n\n\t$(\"#TourStatusTable\").jqGrid(\n\t\t\t{\n\t\t\t\tdatatype : 'jsonstring',\n\t\t\t\tdatastr : jsonData,\n\t\t\t\tzIndex : 1,\n\t\t\t\tcolModel : [ {\n\t\t\t\t\tlabel : '번호',\n\t\t\t\t\tname : 'num',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 40\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '인원',\n\t\t\t\t\tname : 'count',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 40\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '성별',\n\t\t\t\t\tname : 'gender',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 40\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '나이',\n\t\t\t\t\tname : 'age',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 40\n\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '급',\n\t\t\t\t\tname : 'level',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 40\n\t\t\t\t},  {\n\t\t\t\t\tlabel : 'gameId',\n\t\t\t\t\tname : 'gameId',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150,\n\t\t\t\t\thidden : true\n\t\t\t\t}, {\n\t\t\t\t\tlabel : 'tourid',\n\t\t\t\t\tname : 'tourid',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150,\n\t\t\t\t\thidden : true\n\t\t\t\t} ],\n\t\t\t\tviewrecords : true,\n\t\t\t\trowNum : 500,\n\t\t\t\tcaption : '토너먼트 목록',\n\t\t\t\tpager : '#jqGridPager',\n\t\t\t\tjsonReader : {},\n\t\t\t\tloadComplete : function() {\n\t\t\t\t\t// console.log(jsonData);\n\t\t\t\t},\n\n\t\t\t\tonSelectRow : function(rowid, status, e) {\n\t\t\t\t\tvar rowData = $(this).getRowData(rowid);\n\t\t\t\t\tvar url = \"gameMainTourMo.php\" + \"?gameId=\" + rowData.gameId\n\t\t\t\t\t\t\t+ \"&tourid=\" + rowData.tourid;\n\t\t\t\t\tlocation.href = url;\n\t\t\t\t}\n\t\t\t});\n\n\t$('#TourStatusTable').css('font-size', '13px');\n}\n\nfunction showTourAtGameMainTour(tourArr) {\n\tvar jsonData = JSON.stringify(tourArr);\n\tvar htmlTag = \"<table id='TourStatusTable'></table>\";\n\t$(\"#GameGeneralInfoDetail\").html(htmlTag);\n\n\t// console.log(\"TourStatusTable : \" + TourStatusTable + \" jsonData : \" +\n\t// jsonData);\n\n\t$('#TourStatusTable').jqGrid('setGridParam', {\n\t\tdatatype : 'jsonstring',\n\t\tdatastr : jsonData,\n\t}).trigger('reloadGrid');\n\n\t$(\"#TourStatusTable\").jqGrid(\n\t\t\t{\n\t\t\t\tdatatype : 'jsonstring',\n\t\t\t\tdatastr : jsonData,\n\t\t\t\tzIndex : 1,\n\t\t\t\tcolModel : [ {\n\t\t\t\t\tlabel : '번호',\n\t\t\t\t\tname : 'num',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 60\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '인원',\n\t\t\t\t\tname : 'count',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '성별',\n\t\t\t\t\tname : 'gender',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '나이',\n\t\t\t\t\tname : 'age',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150\n\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '급',\n\t\t\t\t\tname : 'level',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150\n\t\t\t\t},  {\n\t\t\t\t\tlabel : 'gameId',\n\t\t\t\t\tname : 'gameId',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150,\n\t\t\t\t\thidden : true\n\t\t\t\t}, {\n\t\t\t\t\tlabel : 'tourid',\n\t\t\t\t\tname : 'tourid',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150,\n\t\t\t\t\thidden : true\n\t\t\t\t} ],\n\t\t\t\tviewrecords : true,\n\t\t\t\trowNum : 500,\n\t\t\t\tcaption : '토너먼트 목록',\n\t\t\t\tpager : '#jqGridPager',\n\t\t\t\tjsonReader : {},\n\t\t\t\tloadComplete : function() {\n\t\t\t\t\t// console.log(jsonData);\n\t\t\t\t},\n\n\t\t\t\tonSelectRow : function(rowid, status, e) {\n\t\t\t\t\tvar rowData = $(this).getRowData(rowid);\n\t\t\t\t\tvar url = \"gameMainTour.php\" + \"?gameId=\" + rowData.gameId\n\t\t\t\t\t\t\t+ \"&tourid=\" + rowData.tourid;\n\t\t\t\t\tlocation.href = url;\n\t\t\t\t}\n\t\t\t});\n\n\t$('#TourStatusTable').css('font-size', '13px');\n}\n\nfunction linkTourDetailAtGameMainTour(cellval, options, rowObject) {\n\tvar gameId = rowObject.gameId;\n\tvar age = rowObject.age;\n\tvar level = rowObject.level;\n\tvar gender = rowObject.gender;\n\n\tvar url = \"gameMainTour.php\";\n\treturn \"<a href='\" + url + \"?gameId=\" + gameId + \"&age=\" + age + \"&level=\"\n\t\t\t+ level + \"&gender=\" + gender + \"' style='text-decoration:blink;'>\"\n\t\t\t+ cellval + \"</a>\";\n}\nfunction maketourlistAtManage(tourArr) {\n\t// var jsonData = JSON.stringify(tourArr);\n\n\t/*\n\t * tournament table gameid = 게임아이디 tourid = 토너먼트 생성 시간 tourname = 나이 레벨 성별\n\t * class = 나이 level = 레벨 gender = 성별 teamcount = 팀 숫자 stadium = 일단 스타디움\n\t */\n\tvar htmlTag_DBlog = \"\";\n\n\tvar str = \"\";\n\n\tfor (var m = 0; m < tourArr.length; m++) {\n\n\t\t// gameid = 게임아이디\n\t\tstr += tourArr[m][\"gameid\"] + \"/\";\n\t\t// tourid = 토너먼트 생성 시간\n\t\tstr += tourArr[m][\"num\"] + \"/\";\n\t\t// tourname = 나이 레벨 성별\n\t\tstr += tourArr[m][\"class\"] + tourArr[m][\"level\"] + tourArr[m][\"gender\"]\n\t\t\t\t+ \"/\";\n\t\t// class = 나이\n\t\tstr += tourArr[m][\"class\"] + \"/\";\n\t\t// level = 레벨\n\t\tstr += tourArr[m][\"level\"] + \"/\";\n\t\t// gender = 성별\n\t\tstr += tourArr[m][\"gender\"] + \"/\";\n\t\t// teamcount = 팀 숫자\n\t\tstr += tourArr[m][\"teamcount\"] + \"/\";\n\t\t// stadium = 일단 스타디움\n\t\tstr += tourArr[m][\"region\"] + \"/\";\n\t\t//\n\n\t}\n\n\t// alert(str);\n\thtmlTag_DBlog += \"<textarea style='display:none' name='maketourlistByDBLogformnum' required='required'>\"\n\t\t\t+ (tourArr[m - 1][\"num\"]) + \"</textarea>\";\n\thtmlTag_DBlog += \"<textarea style='display:none' name='maketourlistByDBLogform' required='required'>\"\n\t\t\t+ str + \"</textarea>\";\n\n\thtmlTag_DBlog += \"<h2>총 \" + (tourArr[m - 1][\"num\"])\n\t\t\t+ \"개의 토너먼트가 감지되었습니다.<br>생성하시겠습니까?<br></h2>\";\n\n\t$(\"#maketourlistByDBLog\").html(htmlTag_DBlog);\n\n}\n\nfunction showGameStatusByTourAtManage(tourArr) {\n\tvar jsonData = JSON.stringify(tourArr);\n\tvar htmlTag = \"<table id='TourStatusTable'></table>\";\n\t$(\"#GameGeneralInfoDetail\").html(htmlTag);\n\n\t// console.log(\"TourStatusTable : \" + TourStatusTable + \" jsonData : \" +\n\t// jsonData);\n\n\t$('#TourStatusTable').jqGrid('setGridParam', {\n\t\tdatatype : 'jsonstring',\n\t\tdatastr : jsonData,\n\t}).trigger('reloadGrid');\n\n\t$(\"#TourStatusTable\").jqGrid(\n\t\t\t{\n\t\t\t\tdatatype : 'jsonstring',\n\t\t\t\tdatastr : jsonData,\n\t\t\t\tzIndex : 1,\n\t\t\t\tcolModel : [ {\n\t\t\t\t\tlabel : '번호',\n\t\t\t\t\tname : 'num',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 60\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '인원',\n\t\t\t\t\tname : 'count',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '성별',\n\t\t\t\t\tname : 'gender',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '나이',\n\t\t\t\t\tname : 'age',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150\n\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '급',\n\t\t\t\t\tname : 'level',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '확정여부',\n\t\t\t\t\tname : 'decide',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150\n\t\t\t\t}, {\n\t\t\t\t\tlabel : 'gameId',\n\t\t\t\t\tname : 'gameId',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150,\n\t\t\t\t\thidden : true\n\t\t\t\t}, {\n\t\t\t\t\tlabel : 'tourid',\n\t\t\t\t\tname : 'tourid',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150,\n\t\t\t\t\thidden : true\n\t\t\t\t} ],\n\t\t\t\tviewrecords : true,\n\t\t\t\trowNum : 500,\n\t\t\t\tcaption : '토너먼트 목록',\n\t\t\t\tpager : '#jqGridPager',\n\t\t\t\tjsonReader : {},\n\t\t\t\tloadComplete : function() {\n\t\t\t\t\t// console.log(jsonData);\n\t\t\t\t},\n\n\t\t\t\tonSelectRow : function(rowid, status, e) {\n\t\t\t\t\tvar rowData = $(this).getRowData(rowid);\n\t\t\t\t\tvar url = \"manageTour.php\" + \"?gameId=\" + rowData.gameId\n\t\t\t\t\t\t\t+ \"&tourid=\" + rowData.tourid;\n\t\t\t\t\tlocation.href = url;\n\t\t\t\t}\n\t\t\t});\n\n\t$('#TourStatusTable').css('font-size', '13px');\n}\n\n\nfunction showGameStatusByTourAtTimetable(tourArr) {\n\tvar jsonData = JSON.stringify(tourArr);\n\tvar htmlTag = \"<table id='TourStatusTable'></table>\";\n\t$(\"#GameGeneralInfoDetail\").html(htmlTag);\n\n\t$('#TourStatusTable').jqGrid('setGridParam', {\n\t\tdatatype : 'jsonstring',\n\t\tdatastr : jsonData,\n\t}).trigger('reloadGrid');\n\n\t$(\"#TourStatusTable\").jqGrid(\n\t\t\t{\n\t\t\t\tdatatype : 'jsonstring',\n\t\t\t\tdatastr : jsonData,\n\t\t\t\tzIndex : 1,\n\t\t\t\tcolModel : [ {\n\t\t\t\t\tlabel : '번호',\n\t\t\t\t\tname : 'num',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 60\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '나이',\n\t\t\t\t\tname : 'age',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150\n\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '급',\n\t\t\t\t\tname : 'level',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '성별',\n\t\t\t\t\tname : 'gender',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '참가팀수',\n\t\t\t\t\tname : 'count',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '확정여부',\n\t\t\t\t\tname : 'decide',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150\n\t\t\t\t},{\n\t\t\t\t\tlabel : 'gameId',\n\t\t\t\t\tname : 'gameId',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150,\n\t\t\t\t\thidden : true\n\t\t\t\t}, {\n\t\t\t\t\tlabel : 'tourid',\n\t\t\t\t\tname : 'tourid',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150,\n\t\t\t\t\thidden : true\n\t\t\t\t} ],\n\t\t\t\tviewrecords : true,\n\t\t\t\trowNum : 1000,\n\t\t\t\tcaption : '토너먼트 목록',\n\t\t\t\tpager : '#jqGridPager',\n\t\t\t\tjsonReader : {},\n\t\t\t\tloadComplete : function() {\n\t\t\t\t\t// console.log(jsonData);\n\t\t\t\t},\n\n\t\t\t\tonSelectRow : function(rowid, status, e) {\n\t\t\t\t\tvar rowData = $(this).getRowData(rowid);\n\t\t\t\t\t\n\t\t\t\t\tif (rowData.decide == '확정' ){\n\t\t\t\t\t\tvar url = \"manageTimetable.php\" + \"?gameId=\" + rowData.gameId + \"&tourId=\" + rowData.tourid;\n\t\t\t\t\t\tlocation.href = url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\talert('확정 상태인 토너먼트만 경기입력이 가능합니다');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t$('#TourStatusTable').css('font-size', '13px');\n}\n\nfunction showGameStatusByTourAtManageResult(tourArr) {\n\tvar jsonData = JSON.stringify(tourArr);\n\tvar htmlTag = \"<table id='TourStatusTable'></table>\";\n\t$(\"#GameGeneralInfoDetail\").html(htmlTag);\n\n\t$('#TourStatusTable').jqGrid('setGridParam', {\n\t\tdatatype : 'jsonstring',\n\t\tdatastr : jsonData,\n\t}).trigger('reloadGrid');\n\n\t$(\"#TourStatusTable\").jqGrid(\n\t\t\t{\n\t\t\t\tdatatype : 'jsonstring',\n\t\t\t\tdatastr : jsonData,\n\t\t\t\tzIndex : 1,\n\t\t\t\tcolModel : [ {\n\t\t\t\t\tlabel : '번호',\n\t\t\t\t\tname : 'num',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 60\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '나이',\n\t\t\t\t\tname : 'age',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150\n\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '급',\n\t\t\t\t\tname : 'level',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '성별',\n\t\t\t\t\tname : 'gender',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '참가팀수',\n\t\t\t\t\tname : 'count',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '확정여부',\n\t\t\t\t\tname : 'decide',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150\n\t\t\t\t},{\n\t\t\t\t\tlabel : 'gameId',\n\t\t\t\t\tname : 'gameId',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150,\n\t\t\t\t\thidden : true\n\t\t\t\t}, {\n\t\t\t\t\tlabel : 'tourid',\n\t\t\t\t\tname : 'tourid',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150,\n\t\t\t\t\thidden : true\n\t\t\t\t} ],\n\t\t\t\tviewrecords : true,\n\t\t\t\trowNum : 1000,\n\t\t\t\tcaption : '토너먼트 목록',\n\t\t\t\tpager : '#jqGridPager',\n\t\t\t\tjsonReader : {},\n\t\t\t\tloadComplete : function() {\n\t\t\t\t\t// console.log(jsonData);\n\t\t\t\t},\n\n\t\t\t\tonSelectRow : function(rowid, status, e) {\n\t\t\t\t\tvar rowData = $(this).getRowData(rowid);\n\t\t\t\t\t\n\t\t\t\t\tif (rowData.decide == '확정' ){\n\t\t\t\t\t\tvar url = \"manageGameResult.php\" + \"?gameId=\" + rowData.gameId + \"&tourId=\" + rowData.tourid;\n\t\t\t\t\t\tlocation.href = url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\talert('확정 상태인 토너먼트만 경기입력이 가능합니다');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t$('#TourStatusTable').css('font-size', '13px');\n}\n\nfunction showGameStatusByTour(tourArr) {\n\tvar jsonData = JSON.stringify(tourArr);\n\tvar htmlTag = \"<table id='TourStatusTable'></table>\";\n\t$(\"#GameGeneralInfoDetail\").html(htmlTag);\n\n\t$('#TourStatusTable').jqGrid('setGridParam', {\n\t\tdatatype : 'jsonstring',\n\t\tdatastr : jsonData,\n\t}).trigger('reloadGrid');\n\n\t$(\"#TourStatusTable\").jqGrid(\n\t\t\t{\n\t\t\t\tdatatype : 'jsonstring',\n\t\t\t\tdatastr : jsonData,\n\t\t\t\tzIndex : 1,\n\t\t\t\tcolModel : [ {\n\t\t\t\t\tlabel : '번호',\n\t\t\t\t\tname : 'num',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 60\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '나이',\n\t\t\t\t\tname : 'age',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150\n\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '급',\n\t\t\t\t\tname : 'level',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '성별',\n\t\t\t\t\tname : 'gender',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '참가팀수',\n\t\t\t\t\tname : 'count',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150\n\t\t\t\t}, {\n\t\t\t\t\tlabel : '확정여부',\n\t\t\t\t\tname : 'decide',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\thidden : true,\n\t\t\t\t\twidth : 150\n\t\t\t\t},{\n\t\t\t\t\tlabel : 'gameId',\n\t\t\t\t\tname : 'gameId',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150,\n\t\t\t\t\thidden : true\n\t\t\t\t}, {\n\t\t\t\t\tlabel : 'tourid',\n\t\t\t\t\tname : 'tourid',\n\t\t\t\t\talign : \"center\",\n\t\t\t\t\twidth : 150,\n\t\t\t\t\thidden : true\n\t\t\t\t} ],\n\t\t\t\tviewrecords : true,\n\t\t\t\trowNum : 1000,\n\t\t\t\tcaption : '토너먼트 목록',\n\t\t\t\tpager : '#jqGridPager',\n\t\t\t\tjsonReader : {},\n\t\t\t\tloadComplete : function() {\n\t\t\t\t\t// console.log(jsonData);\n\t\t\t\t},\n\n\t\t\t\tonSelectRow : function(rowid, status, e) {\n\t\t\t\t\tvar rowData = $(this).getRowData(rowid);\n\t\t\t\t\t\n\t\t\t\t\tif (rowData.decide == '확정' ){\n\t\t\t\t\t\tvar url = \"gameMainTour.php\" + \"?gameId=\" + rowData.gameId + \"&tourId=\" + rowData.tourid;\n\t\t\t\t\t\tlocation.href = url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\talert('확정 상태인 토너먼트만 경기입력이 가능합니다');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t$('#TourStatusTable').css('font-size', '13px');\n}\n\nfunction linkTourDetailAtManage(cellval, options, rowObject) {\n\tvar gameId = rowObject.gameId;\n\tvar age = rowObject.age;\n\tvar level = rowObject.level;\n\tvar gender = rowObject.gender;\n\tvar tourid = rowObject.tourid;\n\n\tvar url = \"manageTour.php\";\n\treturn \"<a href='\" + url + \"?gameId=\" + gameId + \"&tourid=\" + tourid\n\t\t\t+ \"' style='text-decoration:blink;'>\" + cellval + \"</a>\";\n}\n\n\nfunction DrawTourByMatchAtManage(results,mo,results2,gameName, tourName) {\n\n\tvar RoundText = [\"결승전\",\"준결승전\",\"8강전\",\"준예선\",\"예선\"];\n\t// console.log(\"results.length \" + results.length);\n\n\tvar t = 1;\n\tvar TourSeq = 0;\n\twhile (t <= results.length)\n\t{\n\t\tt = t * 2;\n\t\tTourSeq++;\n\t}\n\tif((t/2) == results.length)\n\t\tTourSeq--;\n\t\n\t//console.log(\"results.length \" + results.length);\n\t\n\tvar canvas = document.getElementById(\"myCanvas\");\n\tvar context = canvas.getContext(\"2d\");\n\t\n\tvar CHeight = canvas.height;\n\tvar CWidth = canvas.width;\n\tif(mo == 1)\n\t{\n\t\tcanvas = document.getElementById(\"myCanvasvisible\");\n\t\tcontext = canvas.getContext(\"2d\");\n\t\tcontext.scale(0.4, 0.4);\n\t\t//CHeight*=2.5;\n\t\t//CWidth *= 2.5;\n\t}\n\telse\n\t{\n\t\tcanvas = document.getElementById(\"myCanvas\");\n\t\tcontext = canvas.getContext(\"2d\");\n\t}\n\t\n\t\n\tvar baseTeamNamewidth = 40;\n\tvar baseTeamNamewidthGap = 50 + ((15 - results.length) * 5);\n\tvar baseTeamNameheight = 40;\n\tvar baseTeamNameheightGap = 60;\n\tvar baseFontSize = \"16px Gulim\";\n\tvar baseTeamBoxWidth = (CWidth / 2);\n\tvar baseTeamBoxHeight = (CHeight / 2) + 50;\n\n\tcontext.fillStyle = \"rgb(255,255,255)\";\n\tcontext.fillRect(0, 0, CWidth, CHeight);\n\tcontext.fillStyle = \"rgb(0,0,0)\";\n\n\tvar title = \"[ \" + gameName + ' / ' + tourName + \" ]\";\n\tcontext.beginPath();\n\tcontext.font = \"32px bold Gulim Center\";\n\tcontext.textAlign = \"center\";\n\tcontext.fillText(title, (CWidth / 2), (CHeight / 2)\n\t\t\t- (CHeight / 2) + 40);\n\tcontext.stroke();\n\n\n\tif (results.length < 17) {\n\n//\t\tfor(var iCnt = TourSeq-1; iCnt >=0; iCnt--) \n//\t\t{\n//\t\t\t//if(TourSeq < 5)\n//\t\t\t{\n//\t\t\t\tdrawName(context, 10, baseTeamBoxHeight - 18 - (iCnt*40),\n//\t\t\t\t\t\tbaseFontSize, RoundText[TourSeq - iCnt-1]);\n//\t\t\t}\n//\t\t\t\n//\t\t}\n//\t\t\n\t\t\n\t\tfor (var iCnt = 0; iCnt < results.length; iCnt++) {\n\t\t\t// 팀별 박스 그리기\n\t\t\tdrawRect(context, (CWidth / 2) - (results.length / 2)\n\t\t\t\t\t* baseTeamNamewidthGap + (iCnt * baseTeamNamewidthGap),\n\t\t\t\t\tbaseTeamBoxHeight, baseTeamNamewidth, 130);\n\n\t\t\t// 팀명\n\t\t\t// drawVerticalName(context, (CWidth / 2) - (results.length / 2)\n\t\t\t// \t\t* baseTeamNamewidthGap + (iCnt * baseTeamNamewidthGap)\n\t\t\t// \t\t+ baseTeamNamewidth / 2 - 8, baseTeamBoxHeight + 35,\n\t\t\t// \t\tbaseFontSize, results[iCnt]['playername1']);\n\t\t\t// drawVerticalName(context, (CWidth / 2) - (results.length / 2)\n\t\t\t// \t\t* baseTeamNamewidthGap + (iCnt * baseTeamNamewidthGap)\n\t\t\t// \t\t+ baseTeamNamewidth / 2 + 8, baseTeamBoxHeight + 35,\n\t\t\t// \t\tbaseFontSize, results[iCnt]['playername2']);\n\n\t\t\t// 팀번호(시드번호)\n\t\t\tdrawTeamNum(context, (CWidth / 2) - (results.length / 2)\n\t\t\t\t\t* baseTeamNamewidthGap + (iCnt * baseTeamNamewidthGap)\n\t\t\t\t\t+ baseTeamNamewidth / 2 - 0, baseTeamBoxHeight + 25,\n\t\t\t\t\tbaseFontSize, results[iCnt]['seed']);\n\n\t\t\t// 팀원별 클럽명\n\t\t\tif (results[iCnt]['clubname1'] != results[iCnt]['clubname2']) {\n\t\t\t\tdrawVerticalName(context, (CWidth / 2)\n\t\t\t\t\t\t- (results.length / 2) * baseTeamNamewidthGap\n\t\t\t\t\t\t+ (iCnt * baseTeamNamewidthGap) + baseTeamNamewidth / 2\n\t\t\t\t\t\t- 8, baseTeamBoxHeight + 90, baseFontSize,\n\t\t\t\t\t\tresults[iCnt]['clubname1']);\n\t\t\t\tdrawVerticalName(context, (CWidth / 2)\n\t\t\t\t\t\t- (results.length / 2) * baseTeamNamewidthGap\n\t\t\t\t\t\t+ (iCnt * baseTeamNamewidthGap) + baseTeamNamewidth / 2\n\t\t\t\t\t\t+ 8, baseTeamBoxHeight + 90, baseFontSize,\n\t\t\t\t\t\tresults[iCnt]['clubname2']);\n\n\t\t\t} else {\n\t\t\t\tdrawVerticalName(context, (CWidth / 2)\n\t\t\t\t\t\t- (results.length / 2) * baseTeamNamewidthGap\n\t\t\t\t\t\t+ (iCnt * baseTeamNamewidthGap) + baseTeamNamewidth / 2\n\t\t\t\t\t\t- 0, baseTeamBoxHeight + 50, baseFontSize,\n\t\t\t\t\t\tresults[iCnt]['clubname1']);\n\t\t\t}\n\n\t\t}\n\n\t\tmakeMatchRule(results.length);\n\t\tvar nowMatchList = g_matchRuleDB;\n\t\tvar nowMatchNum = results.length - 2;\n\t\t\n\t\tfor (var iCnt = 0; iCnt < nowMatchNum + 1; iCnt++) {\n\t\t\tnowMatchList[iCnt][3] = 0;\n\t\t\tnowMatchList[iCnt][4] = 0;\n\t\t\tnowMatchList[iCnt][5] = 0;\n\t\t}\n\n\t\tfor (var iCnt = 0; iCnt < nowMatchNum + 1; iCnt++) {\n\n\t\t\tvar left = nowMatchList[iCnt][0] - 1;\n\t\t\tvar right = nowMatchList[iCnt][1] - 1;\n\n\t\t\tif (nowMatchList[iCnt][0] < 100 && nowMatchList[iCnt][1] < 100) {\n\t\t\t\tvar x = (CWidth / 2) - (results.length / 2)\n\t\t\t\t\t\t* baseTeamNamewidthGap + (left * baseTeamNamewidthGap)\n\t\t\t\t\t\t+ (baseTeamNamewidth / 2);\n\t\t\t\tvar x2 = (CWidth / 2) - (results.length / 2)\n\t\t\t\t\t\t* baseTeamNamewidthGap + (right * baseTeamNamewidthGap)\n\t\t\t\t\t\t+ (baseTeamNamewidth / 2);\n\n\t\t\t\tnowMatchList[iCnt][3] = drawMatchLine(context, x,\n\t\t\t\t\t\tbaseTeamBoxHeight - 40, x2, baseTeamBoxHeight - 40,\n\t\t\t\t\t\tnowMatchList[iCnt][2], 0, 0, nowMatchList[iCnt][2]);\n\n\t\t\t\tdrawMatchNum(context, x + (x2 - x) / 2, baseTeamBoxHeight - 18,\n\t\t\t\t\t\tnowMatchList[iCnt][2], \"bold 16px Gulim\", (iCnt + 1));\n\t\t\t\tif(results2 != 0 && results2[iCnt]['id'] != 0)\n\t\t\t\t\tdrawMatchNum(context, x + (x2 - x) / 2, baseTeamBoxHeight ,\n\t\t\t\t\t\t\tnowMatchList[iCnt][2], \"bold 16px Gulim\", \"win:\"+results2[iCnt]['id']);\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\tvar leftCountGap = 0;\n\t\t\t\tvar rightCountGap = 0;\n\n\t\t\t\tvar leftGap = 0;\n\t\t\t\tvar rightGap = 0;\n\t\t\t\tvar leftflag = 0;\n\t\t\t\tvar rightflag = 0;\n\n\t\t\t\tif (nowMatchList[iCnt][0] > 100) {\n\t\t\t\t\t// left = nowMatchList[iCnt][0]-1-100;\n\t\t\t\t\tvar recur = iCnt;\n\t\t\t\t\tvar findleft = 0;\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tif (nowMatchList[recur][0] > 100) {\n\t\t\t\t\t\t\trecur = nowMatchList[recur][0] - 101;\n\t\t\t\t\t\t\tleftGap = nowMatchList[recur][3];\n\t\t\t\t\t\t\tleftflag = 1;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trecur = nowMatchList[recur][0];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (nowMatchList[recur][0] < 100) {\n\t\t\t\t\t\t\tfindleft = nowMatchList[recur][0];\n\t\t\t\t\t\t\tleftGap = nowMatchList[recur][3];\n\t\t\t\t\t\t\tleftflag = 1;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfindleft -= 1;\n\t\t\t\t} else {\n\t\t\t\t\tfindleft = nowMatchList[iCnt][0] - 1;\n\t\t\t\t}\n\t\t\t\tif (nowMatchList[iCnt][1] > 100) {\n\t\t\t\t\tvar recur = iCnt;\n\t\t\t\t\tvar findright = 0;\n\t\t\t\t\twhile (1) {\n\t\t\t\t\t\tif (nowMatchList[recur][1] > 100) {\n\t\t\t\t\t\t\trecur = nowMatchList[recur][1] - 101;\n\t\t\t\t\t\t\trightGap = nowMatchList[recur][3];\n\t\t\t\t\t\t\trightflag = 1;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t// rightCountGap++;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trecur = nowMatchList[recur][1];\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (nowMatchList[recur][1] < 100) {\n\t\t\t\t\t\t\tfindright = nowMatchList[recur][1];\n\t\t\t\t\t\t\trightGap = nowMatchList[recur][3];\n\t\t\t\t\t\t\trightflag = 1;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tfindright -= 1;\n\t\t\t\t} else {\n\t\t\t\t\tfindright = nowMatchList[iCnt][1] - 1;\n\t\t\t\t}\n\n\t\t\t\tvar x = 0;\n\t\t\t\tvar x2 = 0;\n\n\t\t\t\tx = (CWidth / 2) - (results.length / 2)\n\t\t\t\t\t\t* baseTeamNamewidthGap\n\t\t\t\t\t\t+ (findleft * baseTeamNamewidthGap)\n\t\t\t\t\t\t+ (baseTeamNamewidth / 2);\n\t\t\t\tx2 = (CWidth / 2) - (results.length / 2)\n\t\t\t\t\t\t* baseTeamNamewidthGap\n\t\t\t\t\t\t+ (findright * baseTeamNamewidthGap)\n\t\t\t\t\t\t+ (baseTeamNamewidth / 2);\n\n\t\t\t\tif (leftflag == 1) {\tx = leftGap;\t\t}\n\t\t\t\tif (rightflag == 1) {\tx2 = rightGap; \t\t}\n\n\t\t\t\tnowMatchList[iCnt][3] = drawMatchLine(context, x,\n\t\t\t\t\t\tbaseTeamBoxHeight - 40, x2, baseTeamBoxHeight - 40,\n\t\t\t\t\t\tnowMatchList[iCnt][2], leftflag, rightflag,\n\t\t\t\t\t\tnowMatchList[iCnt][2]);\n\n\t\t\t\t//results[iCnt]['winner']\n\t\t\t\t\n\t\t\t\tdrawMatchNum(context, x + (x2 - x) / 2, baseTeamBoxHeight - 18,\n\t\t\t\t\t\tnowMatchList[iCnt][2], \"bold 16px Gulim\", (iCnt + 1));\n\t\t\t\t\n\t\t\t\tif(results2 != 0 && results2[iCnt]['id'] != 0)\n\t\t\t\t\tdrawMatchNum(context, x + (x2 - x) / 2, baseTeamBoxHeight ,\n\t\t\t\t\t\t\tnowMatchList[iCnt][2], \"bold 16px Gulim\", \"win:\"+results2[iCnt]['id']);\n\t\t\t\t\t\n\t\t\t\n\t\t\t}\n\t\t\t\n\t\t}\n\t\t//17명 이상일 경우\n\t} else {\n\t\tvar half = 0;\n\t\tvar half2 = 0;\n\t\tvar OddifShift=0;\n\t\t\t\n\t\t\n\t\tif (results.length % 2 == 0) {\n\t\t\thalf = results.length / 2;\n\t\t\thalf2 = results.length / 2;\n\t\t} else {\n\t\t\thalf = Math.floor(results.length / 2) + 1;\n\t\t\thalf2 = Math.floor(results.length / 2);\n\t\t\tOddifShift = 30;\n\t\t}\n\t\tdrawName(context, CWidth/2- 15\n\t\t\t\t, CHeight/2  + 15\n\t\t\t\t, baseFontSize,\n\t\t\t\t\"결승전\");\n\n\t\tfor (var iCnt = 0; iCnt < half; iCnt++) {\n\t\t\t// 팀별 박스 그리기\n\t\t\tdrawRect(context, baseTeamBoxWidth - baseTeamBoxWidth + 50,\n\t\t\t\t\t(CHeight / 2) - (half / 2) * baseTeamNameheightGap\n\t\t\t\t\t\t\t+ (iCnt * baseTeamNameheightGap), 130,\n\t\t\t\t\tbaseTeamNamewidth);\n\n\t\t\t// 팀명\n\t\t\tdrawName(context, baseTeamBoxWidth - baseTeamBoxWidth + 50 + 70,\n\t\t\t\t\t(CHeight / 2) - (half / 2) * baseTeamNameheightGap\n\t\t\t\t\t\t\t+ (iCnt * baseTeamNameheightGap) - 8 + 25,\n\t\t\t\t\tbaseFontSize, results[iCnt]['playername1']);\n\t\t\tdrawName(context, baseTeamBoxWidth - baseTeamBoxWidth + 50 + 70,\n\t\t\t\t\t(CHeight / 2) - (half / 2) * baseTeamNameheightGap\n\t\t\t\t\t\t\t+ (iCnt * baseTeamNameheightGap) + 8 + 25,\n\t\t\t\t\tbaseFontSize, results[iCnt]['playername2']);\n\n\t\t\t// 팀번호(시드번호)\n\t\t\tdrawTeamNum(context,\n\t\t\t\t\tbaseTeamBoxWidth - baseTeamBoxWidth + 50 + 118,\n\t\t\t\t\t(CHeight / 2) - (half / 2) * baseTeamNameheightGap\n\t\t\t\t\t\t\t+ (iCnt * baseTeamNameheightGap) + 25,\n\t\t\t\t\tbaseFontSize, results[iCnt]['seed']);\n\n\t\t\t// 팀원별 클럽명\n\t\t\tif (results[iCnt]['clubname1'] != results[iCnt]['clubname2']) {\n\t\t\t\tdrawName(context,\n\t\t\t\t\t\tbaseTeamBoxWidth - baseTeamBoxWidth + 50 + 15,\n\t\t\t\t\t\t(CHeight / 2) - (half / 2)\n\t\t\t\t\t\t\t\t* baseTeamNameheightGap\n\t\t\t\t\t\t\t\t+ (iCnt * baseTeamNameheightGap) - 8 + 25,\n\t\t\t\t\t\tbaseFontSize, results[iCnt]['clubname1']);\n\t\t\t\tdrawName(context,\n\t\t\t\t\t\tbaseTeamBoxWidth - baseTeamBoxWidth + 50 + 15,\n\t\t\t\t\t\t(CHeight / 2) - (half / 2)\n\t\t\t\t\t\t\t\t* baseTeamNameheightGap\n\t\t\t\t\t\t\t\t+ (iCnt * baseTeamNameheightGap) + 8 + 25,\n\t\t\t\t\t\tbaseFontSize, results[iCnt]['clubname2']);\n\n\t\t\t} else {\n\t\t\t\tdrawName(context,\n\t\t\t\t\t\tbaseTeamBoxWidth - baseTeamBoxWidth + 50 + 15,\n\t\t\t\t\t\t(CHeight / 2) - (half / 2)\n\t\t\t\t\t\t\t\t* baseTeamNameheightGap\n\t\t\t\t\t\t\t\t+ (iCnt * baseTeamNameheightGap) + 25,\n\t\t\t\t\t\tbaseFontSize, results[iCnt]['clubname1']);\n\t\t\t}\n\n\t\t}\n\n\t\tfor (var iCnt = 0; iCnt < half2; iCnt++) {\n\t\t\t// 팀별 박스 그리기\n\t\t\tdrawRect(context, baseTeamBoxWidth + baseTeamBoxWidth - 50 - 130,\n\t\t\t\t\t(CHeight / 2) - (half / 2) * baseTeamNameheightGap + OddifShift\n\t\t\t\t\t\t\t+ (iCnt * baseTeamNameheightGap), 130,\n\t\t\t\t\tbaseTeamNamewidth);\n\n\t\t\t// 팀명\n\t\t\tdrawName(context\n\t\t\t\t\t, baseTeamBoxWidth + baseTeamBoxWidth - 50 - 130 + 30\n\t\t\t\t\t, (CHeight / 2) - (half / 2)\n\t\t\t\t\t* baseTeamNameheightGap + (iCnt * baseTeamNameheightGap) - 8 + 25 + OddifShift\n\t\t\t\t\t, baseFontSize, results[iCnt + half]['playername1']);\n\t\t\tdrawName(context, baseTeamBoxWidth + baseTeamBoxWidth - 50 - 130 + 30\n\t\t\t\t\t, (CHeight / 2) - (half / 2) * baseTeamNameheightGap + (iCnt * baseTeamNameheightGap) + 8 + 25+ OddifShift\n\t\t\t\t\t, baseFontSize, results[iCnt + half]['playername2']);\n\n\t\t\t// 팀번호(시드번호)\n\t\t\tdrawTeamNum(context, baseTeamBoxWidth + baseTeamBoxWidth - 50 - 130 + 10\n\t\t\t\t\t, (CHeight / 2) - (half / 2) * baseTeamNameheightGap + (iCnt * baseTeamNameheightGap) + 25 + OddifShift\n\t\t\t\t\t, baseFontSize, results[iCnt + half]['seed']);\n\n\t\t\t// 팀원별 클럽명\n\t\t\tif (results[iCnt + half]['clubname1'] != results[iCnt + half]['clubname2']) {\n\t\t\t\tdrawName(context, baseTeamBoxWidth + baseTeamBoxWidth - 50 - 130 + 85\n\t\t\t\t\t\t, (CHeight / 2) - (half / 2) * baseTeamNameheightGap + (iCnt * baseTeamNameheightGap) - 8 + 25 + OddifShift\n\t\t\t\t\t\t,baseFontSize, results[iCnt + half]['clubname1']);\n\t\t\t\tdrawName(context, baseTeamBoxWidth + baseTeamBoxWidth - 50 - 130 + 85\n\t\t\t\t\t\t, (CHeight / 2) - (half / 2) * baseTeamNameheightGap + (iCnt * baseTeamNameheightGap) + 8 + 25 + OddifShift\n\t\t\t\t\t\t,baseFontSize, results[iCnt + half]['clubname2']);\n\n\t\t\t} else {\n\t\t\t\tdrawName(context, baseTeamBoxWidth + baseTeamBoxWidth - 50 - 130 + 85\n\t\t\t\t\t\t, (CHeight / 2) - (half / 2) * baseTeamNameheightGap + (iCnt * baseTeamNameheightGap) + 25+ OddifShift\n\t\t\t\t\t\t, baseFontSize,\n\t\t\t\t\t\tresults[iCnt + half]['clubname1']);\n\t\t\t}\n\n\t\t}\n\t\t\n\t\tvar MatchNumCnt = 1;\n\t\t//왼쪽 라인들\n\t\t{\n\t\t\tmakeMatchRule(half);\n\t\t\tvar matchRuleDB = g_matchRuleDB;\n\t\t\tvar LeftShift = -150;\n\t\t\t\n\t\t\t// 인원수에 맞는 매치 룰을 넘김\n\t\t\tvar nowMatchList = g_matchRuleDB;//matchRuleDB[half - 2];\n\t\t\tvar nowMatchNum = half - 2;\n\t\t\tfor (var iCnt = 0; iCnt < nowMatchNum + 1; iCnt++) {\n\t\t\t\tnowMatchList[iCnt][3] = 0;\n\t\t\t\tnowMatchList[iCnt][4] = 0;\n\t\t\t}\n\n\t\t\tfor (var iCnt = 0; iCnt < nowMatchNum + 1; iCnt++) {\n\t\t\t\tvar left = nowMatchList[iCnt][0] - 1;\n\t\t\t\tvar right = nowMatchList[iCnt][1] - 1;\n\t\t\t\tif (nowMatchList[iCnt][0] < 100 && nowMatchList[iCnt][1] < 100) {\n\t\t\t\t\tvar x = (CHeight / 2) - (half / 2)\n\t\t\t\t\t\t\t* baseTeamNameheightGap\n\t\t\t\t\t\t\t+ (left * baseTeamNameheightGap)\n\t\t\t\t\t\t\t+ (baseTeamNameheight / 2);\n\t\t\t\t\tvar x2 = (CHeight / 2) - (half / 2)\n\t\t\t\t\t\t\t* baseTeamNameheightGap\n\t\t\t\t\t\t\t+ (right * baseTeamNameheightGap)\n\t\t\t\t\t\t\t+ (baseTeamNameheight / 2);\n\n\t\t\t\t\tnowMatchList[iCnt][3] = drawMatchLinVerticalLeft(context\n\t\t\t\t\t\t\t, x\n\t\t\t\t\t\t\t, baseTeamBoxHeight - 40 + LeftShift\n\t\t\t\t\t\t\t, x2\n\t\t\t\t\t\t\t, baseTeamBoxHeight - 40 + LeftShift\n\t\t\t\t\t\t\t, nowMatchList[iCnt][2], 0, 0, nowMatchList[iCnt][2]);\n\n\t\t\t\t\tdrawMatchNumVerticalLeft(context\n\t\t\t\t\t\t\t, x + (x2 - x) / 2\n\t\t\t\t\t\t\t, baseTeamBoxHeight - 18 + LeftShift\n\t\t\t\t\t\t\t, nowMatchList[iCnt][2], \"bold 16px Gulim\", results[iCnt]['seed']);\n\t\t\t\t} else {\n\t\t\t\t\tvar leftCountGap = 0;\n\t\t\t\t\tvar rightCountGap = 0;\n\n\t\t\t\t\tvar leftGap = 0;\n\t\t\t\t\tvar rightGap = 0;\n\t\t\t\t\tvar leftflag = 0;\n\t\t\t\t\tvar rightflag = 0;\n\n\t\t\t\t\tif (nowMatchList[iCnt][0] > 100) {\n\t\t\t\t\t\t// left = nowMatchList[iCnt][0]-1-100;\n\t\t\t\t\t\tvar recur = iCnt;\n\t\t\t\t\t\tvar findleft = 0;\n\t\t\t\t\t\twhile (1) {\n\t\t\t\t\t\t\tif (nowMatchList[recur][0] > 100) {\n\t\t\t\t\t\t\t\trecur = nowMatchList[recur][0] - 101;\n\t\t\t\t\t\t\t\tleftGap = nowMatchList[recur][3];\n\t\t\t\t\t\t\t\tleftflag = 1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trecur = nowMatchList[recur][0];\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (nowMatchList[recur][0] < 100) {\n\t\t\t\t\t\t\t\tfindleft = nowMatchList[recur][0];\n\t\t\t\t\t\t\t\tleftGap = nowMatchList[recur][3];\n\t\t\t\t\t\t\t\tleftflag = 1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// leftCountGap++;\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfindleft -= 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfindleft = nowMatchList[iCnt][0] - 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (nowMatchList[iCnt][1] > 100) {\n\t\t\t\t\t\tvar recur = iCnt;\n\t\t\t\t\t\tvar findright = 0;\n\t\t\t\t\t\twhile (1) {\n\t\t\t\t\t\t\tif (nowMatchList[recur][1] > 100) {\n\t\t\t\t\t\t\t\trecur = nowMatchList[recur][1] - 101;\n\t\t\t\t\t\t\t\trightGap = nowMatchList[recur][3];\n\t\t\t\t\t\t\t\trightflag = 1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t// rightCountGap++;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trecur = nowMatchList[recur][1];\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (nowMatchList[recur][1] < 100) {\n\t\t\t\t\t\t\t\tfindright = nowMatchList[recur][1];\n\t\t\t\t\t\t\t\trightGap = nowMatchList[recur][3];\n\t\t\t\t\t\t\t\trightflag = 1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfindright -= 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfindright = nowMatchList[iCnt][1] - 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar x = 0;\n\t\t\t\t\tvar x2 = 0;\n\n\t\t\t\t\tx = (CHeight / 2) - (half / 2) * baseTeamNameheightGap\n\t\t\t\t\t\t\t+ (findleft * baseTeamNameheightGap)\n\t\t\t\t\t\t\t+ (baseTeamNameheight / 2);\n\t\t\t\t\tx2 = (CHeight / 2) - (half / 2) * baseTeamNameheightGap\n\t\t\t\t\t\t\t+ (findright * baseTeamNameheightGap)\n\t\t\t\t\t\t\t+ (baseTeamNameheight / 2);\n\n\t\t\t\t\tif (leftflag == 1) {\n\t\t\t\t\t\tx = leftGap;\n\t\t\t\t\t}\n\t\t\t\t\tif (rightflag == 1) {\n\t\t\t\t\t\tx2 = rightGap;\n\t\t\t\t\t}\n\n\t\t\t\t\tnowMatchList[iCnt][3] = drawMatchLinVerticalLeft(context\n\t\t\t\t\t\t\t, x\n\t\t\t\t\t\t\t, baseTeamBoxHeight - 40 +  + LeftShift\n\t\t\t\t\t\t\t, x2\n\t\t\t\t\t\t\t, baseTeamBoxHeight - 40 +  + LeftShift\n\t\t\t\t\t\t\t, nowMatchList[iCnt][2], leftflag, rightflag,\n\t\t\t\t\t\t\tnowMatchList[iCnt][2]);\n\n\t\t\t\t\tdrawMatchNumVerticalLeft(context\n\t\t\t\t\t\t\t, x + (x2 - x) / 2\n\t\t\t\t\t\t\t, baseTeamBoxHeight - 18 +  + LeftShift\n\t\t\t\t\t\t\t, nowMatchList[iCnt][2], \"bold 16px Gulim\", results[iCnt]['seed']);\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\t{\n\t\t\tmakeMatchRule(half2);\n\t\n\t\t\t\n\t\t\tvar matchRuleDB = g_matchRuleDB;\n\t\t\tvar RightShift = 308;\n\n\t\t\t// 인원수에 맞는 매치 룰을 넘김\n\t\t\tvar nowMatchList = g_matchRuleDB;//matchRuleDB[half - 2];\n\t\t\tvar nowMatchNum = half2 - 2;\n\t\t\tfor (var iCnt = 0; iCnt < nowMatchNum + 1; iCnt++) {\n\t\t\t\tnowMatchList[iCnt][3] = 0;\n\t\t\t\tnowMatchList[iCnt][4] = 0;\n\t\t\t}\n\n\t\t\tfor (var iCnt = 0; iCnt < nowMatchNum + 1; iCnt++) {\n\t\t\t\tvar left = nowMatchList[iCnt][0] - 1;\n\t\t\t\tvar right = nowMatchList[iCnt][1] - 1;\n\t\t\t\tif (nowMatchList[iCnt][0] < 100 && nowMatchList[iCnt][1] < 100) {\n\t\t\t\t\tvar x = (CHeight / 2) - (half / 2)\n\t\t\t\t\t\t\t* baseTeamNameheightGap\n\t\t\t\t\t\t\t+ (left * baseTeamNameheightGap)\n\t\t\t\t\t\t\t+ (baseTeamNameheight / 2);\n\t\t\t\t\tvar x2 = (CHeight / 2) - (half / 2)\n\t\t\t\t\t\t\t* baseTeamNameheightGap\n\t\t\t\t\t\t\t+ (right * baseTeamNameheightGap)\n\t\t\t\t\t\t\t+ (baseTeamNameheight / 2);\n\n\t\t\t\t\tnowMatchList[iCnt][3] = drawMatchLinVertical(context\n\t\t\t\t\t\t\t, x+ OddifShift\n\t\t\t\t\t\t\t, baseTeamBoxHeight - 40  + RightShift\n\t\t\t\t\t\t\t, x2+ OddifShift\n\t\t\t\t\t\t\t, baseTeamBoxHeight - 40  + RightShift\n\t\t\t\t\t\t\t, nowMatchList[iCnt][2], 0, 0, nowMatchList[iCnt][2]);\n\n\t\t\t\t\tdrawMatchNumVertical(context\n\t\t\t\t\t\t\t, (x + (x2 - x) / 2)  + OddifShift\n\t\t\t\t\t\t\t, baseTeamBoxHeight - 18 + RightShift,\n\t\t\t\t\t\t\tnowMatchList[iCnt][2], \"bold 16px Gulim\", (iCnt + 1));\n\t\t\t\t} else {\n\t\t\t\t\tvar leftCountGap = 0;\n\t\t\t\t\tvar rightCountGap = 0;\n\n\t\t\t\t\tvar leftGap = 0;\n\t\t\t\t\tvar rightGap = 0;\n\t\t\t\t\tvar leftflag = 0;\n\t\t\t\t\tvar rightflag = 0;\n\n\t\t\t\t\tif (nowMatchList[iCnt][0] > 100) {\n\t\t\t\t\t\t// left = nowMatchList[iCnt][0]-1-100;\n\t\t\t\t\t\tvar recur = iCnt;\n\t\t\t\t\t\tvar findleft = 0;\n\t\t\t\t\t\twhile (1) {\n\t\t\t\t\t\t\tif (nowMatchList[recur][0] > 100) {\n\t\t\t\t\t\t\t\trecur = nowMatchList[recur][0] - 101;\n\t\t\t\t\t\t\t\tleftGap = nowMatchList[recur][3];\n\t\t\t\t\t\t\t\tleftflag = 1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trecur = nowMatchList[recur][0];\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (nowMatchList[recur][0] < 100) {\n\t\t\t\t\t\t\t\tfindleft = nowMatchList[recur][0];\n\t\t\t\t\t\t\t\tleftGap = nowMatchList[recur][3];\n\t\t\t\t\t\t\t\tleftflag = 1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// leftCountGap++;\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfindleft -= 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfindleft = nowMatchList[iCnt][0] - 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (nowMatchList[iCnt][1] > 100) {\n\t\t\t\t\t\tvar recur = iCnt;\n\t\t\t\t\t\tvar findright = 0;\n\t\t\t\t\t\twhile (1) {\n\t\t\t\t\t\t\tif (nowMatchList[recur][1] > 100) {\n\t\t\t\t\t\t\t\trecur = nowMatchList[recur][1] - 101;\n\t\t\t\t\t\t\t\trightGap = nowMatchList[recur][3];\n\t\t\t\t\t\t\t\trightflag = 1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t// rightCountGap++;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\trecur = nowMatchList[recur][1];\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (nowMatchList[recur][1] < 100) {\n\t\t\t\t\t\t\t\tfindright = nowMatchList[recur][1];\n\t\t\t\t\t\t\t\trightGap = nowMatchList[recur][3];\n\t\t\t\t\t\t\t\trightflag = 1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfindright -= 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfindright = nowMatchList[iCnt][1] - 1;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar x = 0;\n\t\t\t\t\tvar x2 = 0;\n\n\t\t\t\t\tx = (CHeight / 2) - (half / 2) * baseTeamNameheightGap\n\t\t\t\t\t\t\t+ (findleft * baseTeamNameheightGap)\n\t\t\t\t\t\t\t+ (baseTeamNameheight / 2);\n\t\t\t\t\tx2 = (CHeight / 2) - (half / 2) * baseTeamNameheightGap\n\t\t\t\t\t\t\t+ (findright * baseTeamNameheightGap)\n\t\t\t\t\t\t\t+ (baseTeamNameheight / 2);\n\n\t\t\t\t\tif (leftflag == 1) {\n\t\t\t\t\t\tx = leftGap;\n\t\t\t\t\t}\n\t\t\t\t\tif (rightflag == 1) {\n\t\t\t\t\t\tx2 = rightGap;\n\t\t\t\t\t}\n\n\t\t\t\t\tnowMatchList[iCnt][3] = drawMatchLinVertical(context\n\t\t\t\t\t\t\t, x \n\t\t\t\t\t\t\t, baseTeamBoxHeight - 40 + RightShift\n\t\t\t\t\t\t\t, x2\n\t\t\t\t\t\t\t, baseTeamBoxHeight - 40 + RightShift,\n\t\t\t\t\t\t\tnowMatchList[iCnt][2], leftflag, rightflag,\n\t\t\t\t\t\t\tnowMatchList[iCnt][2]);\n\n\t\t\t\t\tdrawMatchNumVertical(context\n\t\t\t\t\t\t\t, (x + (x2 - x) / 2)\n\t\t\t\t\t\t\t, baseTeamBoxHeight - 18 + RightShift,\n\t\t\t\t\t\t\tnowMatchList[iCnt][2], \"bold 16px Gulim\", (iCnt + 1));\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n}\n\n// draw some text\n\nfunction drawTeamNum(con, x, y, size, Num) {\n\tcon.beginPath();\n\tcon.font = size;\n\tcon.fillText(Num, x, y);\n\tcon.stroke();\n}\n\nfunction drawMatchNum(con, x, y, hei, size, Num) {\n\tvar height = hei * 40;\n\tvar hGap = (hei - 1) * 40;\n\ty -= hGap;\n\n\tcon.beginPath();\n\tcon.font = size;\n\tcon.fillText(Num, x, y);\n\tcon.stroke();\n}\n\nfunction drawMatchNumVerticalLeft(con, x, y, hei, size, Num) {\n\tvar gap = -40;\n\t//var height = hei * gap + gap;\n\tvar hGap = (hei - 1) * gap;\n\ty -= hGap;\n\n\tcon.beginPath();\n\tcon.font = size;\n\tcon.fillText(Num, y + gap, x);\n\tcon.stroke();\n}\nfunction drawMatchNumVertical(con, x, y, hei, size, Num) {\n\tvar height = hei * 40;\n\tvar hGap = (hei - 1) * 40;\n\ty -= hGap;\n\n\tcon.beginPath();\n\tcon.font = size;\n\tcon.fillText(Num, y, x);\n\tcon.stroke();\n}\nfunction drawName(con, x, y, size, name) {\n\tcon.beginPath();\n\tcon.font = size;\n\tfor (var iCnt = 0; iCnt < name.length; iCnt++) {\n\t\tcon.fillText(name[iCnt], x + (iCnt * 16), y);\n\t}\n\tcon.stroke();\n}\nfunction drawVerticalName(con, x, y, size, name) {\n\tcon.beginPath();\n\tcon.font = size;\n\tfor (var iCnt = 0; iCnt < name.length; iCnt++) {\n\t\tcon.fillText(name[iCnt], x, y + (iCnt * 16));\n\t}\n\tcon.stroke();\n}\nfunction drawRect(con, x, y, width, height) {\n\tcon.beginPath();\n\t// con.lineWidth = 0.2;\n\tcon.strokeStyle = \"br\";\n\n\tcon.moveTo(x, y);\n\tcon.lineTo(x + width, y);\n\n\tcon.moveTo(x + width, y);\n\tcon.lineTo(x + width, y + height);\n\n\tcon.moveTo(x + width, y + height);\n\tcon.lineTo(x, y + height);\n\n\tcon.moveTo(x, y + height);\n\tcon.lineTo(x, y);\n\n\tcon.closePath();\n\tcon.stroke();\n}\n\nfunction drawMatchLinVerticalLeft(con, x, y, x2, y2, hei, leftflag, rightflag, seq) {\n\tvar heightGap = -40;\n\tvar height = 1 * heightGap;\n\tvar height2 = 1 * heightGap;\n\n\tif (leftflag == 0 & seq >= 2) {\n\t\theight = (2) * heightGap;\n\t}\n\tif (rightflag == 0 & seq >= 2) {\n\t\theight2 = (2) * heightGap;\n\t}\n\n\tvar hGap = (hei - 1) * heightGap;\n\ty -= hGap;\n\ty2 -= hGap;\n\n\tcon.beginPath();\n\t// con.lineWidth = 0.2;\n\t// if(hei== 3)\n\tcon.strokeStyle = \"rgb(\" + (hei * 70) + \",\" + (255 - hei * 70) + \",0)\";\n\t// con.strokeStyle = \"br\";\n\n\tcon.moveTo(y, x);\n\tcon.lineTo(y2, x2);\n\n\t// Left라인\n\tcon.moveTo(y, x);\n\tcon.lineTo(y + height, x);\n\n\t// right 라인\n\tcon.moveTo(y2, x2);\n\tcon.lineTo(y2 + height2, x2);\n\n\tcon.moveTo(y - heightGap,x + (x2 - x) / 2);\n\tcon.lineTo(y,x + (x2 - x) / 2);\n\n\tcon.closePath();\n\tcon.stroke();\n\n\treturn x + (x2 - x) / 2;\n}\nfunction drawMatchLinVertical(con, x, y, x2, y2, hei, leftflag, rightflag, seq) {\n\tvar heightGap = 40;\n\tvar height = 1 * heightGap;\n\tvar height2 = 1 * heightGap;\n\n\tif (leftflag == 0 & seq >= 2) {\n\t\theight = (2) * heightGap;\n\t}\n\tif (rightflag == 0 & seq >= 2) {\n\t\theight2 = (2) * heightGap;\n\t}\n\n\tvar hGap = (hei - 1) * 40;\n\ty -= hGap;\n\ty2 -= hGap;\n\n\tcon.beginPath();\n\t// con.lineWidth = 0.2;\n\t// if(hei== 3)\n\tcon.strokeStyle = \"rgb(\" + (hei * 70) + \",\" + (255 - hei * 70) + \",0)\";\n\t// con.strokeStyle = \"br\";\n\n\tcon.moveTo(y, x);\n\tcon.lineTo(y2, x2);\n\n\t// Left라인\n\tcon.moveTo(y, x);\n\tcon.lineTo(y + height, x);\n\n\t// right 라인\n\tcon.moveTo(y2, x2);\n\tcon.lineTo(y2 + height2, x2);\n\n\tcon.moveTo(y - 40,x + (x2 - x) / 2);\n\tcon.lineTo(y,x + (x2 - x) / 2);\n\n\tcon.closePath();\n\tcon.stroke();\n\n\treturn x + (x2 - x) / 2;\n}\n\nfunction drawMatchLine(con, x, y, x2, y2, hei, leftflag, rightflag, seq) {\n\tvar heightGap = 40;\n\tvar height = 1 * heightGap;\n\tvar height2 = 1 * heightGap;\n\n\tif (leftflag == 0 & seq >= 2) {\n\t\theight = (2) * heightGap;\n\t}\n\tif (rightflag == 0 & seq >= 2) {\n\t\theight2 = (2) * heightGap;\n\t}\n\n\tvar hGap = (hei - 1) * 40;\n\ty -= hGap;\n\ty2 -= hGap;\n\n\tcon.beginPath();\n\t// con.lineWidth = 0.2;\n\t// if(hei== 3)\n\tcon.strokeStyle = \"rgb(\" + (hei * 70) + \",\" + (255 - hei * 70) + \",0)\";\n\t// con.strokeStyle = \"br\";\n\n\tcon.moveTo(x, y);\n\tcon.lineTo(x2, y2);\n\n\t// Left라인\n\tcon.moveTo(x, y);\n\tcon.lineTo(x, y + height);\n\n\t// right 라인\n\tcon.moveTo(x2, y2);\n\tcon.lineTo(x2, y2 + height2);\n\n\tcon.moveTo(x + (x2 - x) / 2, y - 40);\n\tcon.lineTo(x + (x2 - x) / 2, y);\n\n\tcon.closePath();\n\tcon.stroke();\n\n\treturn x + (x2 - x) / 2;\n}\n\nfunction showTourStatusTimetableAtManage() {\n\n\tvar htmlTag = \"\";\n\tvar court = 9;\n\tvar startTimeH = 7;\n\tvar startTimeM = 0;\n\n\tvar timeGap = 20;\n\n\thtmlTag += \"<h2>지역명 : <br> \" + court + \"코트 짜리 \" + timeGap\n\t\t\t+ \"분씩</h2><br><br>\";\n\n\thtmlTag += \"<table id='GameStatusByClub' border='1'>\";\n\n\thtmlTag += \"<tr>\";\n\thtmlTag += \"<th>시간</th>\";\n\tvar wid = 100 / court;\n\tfor (var m = 0; m < court; m++) {\n\t\thtmlTag += \"<th width = \" + (wid) + \"%>\" + (m + 1) + \"코트</th>\";\n\t}\n\n\thtmlTag += \"</tr>\";\n\n\tfor (var m = 0; m < 11; m++) {\n\t\thtmlTag += \"<tr >\";\n\t\tvar time = \"\";\n\t\ttime = startTimeH + \":\" + startTimeM + \"<br>~\" + startTimeH + \":\"\n\t\t\t\t+ (startTimeM + timeGap);\n\t\thtmlTag += \"<td>\" + time + \"</td>\";\n\n\t\tfor (var i = 0; i < court; i++) {\n\t\t\thtmlTag += \"<td>\" + \"설정\" + \"</td>\";\n\t\t}\n\n\t\thtmlTag += \"</tr>\";\n\n\t}\n\thtmlTag += \"</table><br>\";\n\n\t$(\"#GameManageTourTimetable\").html(htmlTag);\n\n}\n\nfunction showTourStatusTeamListByMatchAtManage(results) {\n\n\tvar htmlTag = \"\";\n\n\thtmlTag += \"<h2>참가 팀 수 : \" + (results.length) + \"</h2><br><br>\";\n\n\thtmlTag += \"<table id='GameStatusByClub' border='1'>\";\n\n\thtmlTag += \"<tr>\";\n\thtmlTag += \"<th>배정<br>번호</th>\";\n\thtmlTag += \"<th>선수</th>\";\n\thtmlTag += \"<th>클럽</th>\";\n\thtmlTag += \"<th>선수</th>\";\n\thtmlTag += \"<th>클럽</th>\";\n\thtmlTag += \"</tr>\";\n\n\tfor (var m = 0; m < results.length; m++) {\n\t\thtmlTag += \"<tr >\";\n\n\t\thtmlTag += \"<td>\" + (m + 1) + \"</td>\";\n\n\t\thtmlTag += \"<td>\" + results[m]['playername1'] + \"</td>\";\n\t\thtmlTag += \"<td>\" + results[m]['clubname1'] + \"</td>\";\n\n\t\thtmlTag += \"<td>\" + results[m]['playername2'] + \"</td>\";\n\t\thtmlTag += \"<td>\" + results[m]['clubname2'] + \"</td>\";\n\n\t\thtmlTag += \"</tr>\";\n\n\t}\n\thtmlTag += \"</table><br>\";\n\n\t// htmlTag += \"<b> 나이 : \"+results[0]['age']+\"</b><br>\";\n\t// htmlTag += \"<b> 등급 : \"+results[0]['level']+\"</b><br>\";\n\t// htmlTag += \"<b> 성별 : \"+results[0]['gender']+\"</b><br>\";\n\n\t// for (var m = 0; m < results.length; m++)\n\t// {\n\t// htmlTag += \"<b> 배정번호 :\"+(m+1) + \" 팀원 : \"+results[m]['playername1']+\" /\n\t// \"+results[m]['playername2']+\"</b><br><br>\";\n\t// }\n\t//\t\n\t$(\"#GameManageTourMatch\").html(htmlTag);\n\n}\nfunction showTeamListByMatchAtManage(results) {\n\tvar htmlTag = \"\";\n\t//var matchRuleDB = g_matchRuleDB;\n\n\t// 인원수에 맞는 매치 룰을 넘김\n\tmakeMatchRule(results.length);\n\tvar nowMatchList = g_matchRuleDB;\n\t//console.log(\"nowMatchList : \" + g_matchRuleDB[0]);\n\t//var nowMatchList = matchRuleDB[results.length - 2];\n\n\t//console.log(\"results.length : \" + results.length);\n\t//console.log(\"nowMatchList : \" + g_matchRuleDB);\n\t\n\thtmlTag += \"<h2>경기 수 : \" + (results.length - 1) + \"</h2><br><br>\";\n\n\thtmlTag += \"<table id='GameStatusByList' border='1'>\";\n\n\thtmlTag += \"<tr>\";\n\thtmlTag += \"<th>경기<br>번호</th>\";\n\thtmlTag += \"<th colspan='3'>매치</th>\";\n\t\n\n\thtmlTag += \"</tr>\";\n\n\tfor (var m = 0; m < results.length - 1; m++) {\n\n\t\thtmlTag += \"<tr >\";\n\t\t// con.strokeStyle = \"rgb(\"+(hei*70)+\",\"+(255-hei*70)+\",0)\";\n\t\tvar hei = nowMatchList[m][2] ;\n\t\thtmlTag += \"<td style='background-color: rgb(\" + (hei * 70) + \",\" + (255 - hei * 70)\n\t\t\t\t+ \",0)'>\" + (m + 1) + \"</td>\";\n\t\t// htmlTag += \"<td bgcolor = color:rgb(0,0,0)>\" + (m+1) + \"</td>\";\n\n\t\tvar firstTeamName = \"\";\n\t\t// 출력해줘야 될 팀명이 승자 내용이라면\n\t\tif (nowMatchList[m][0] > 100) {\n\t\t\tvar tmp = nowMatchList[m][0] - 100;\n\t\t\tfirstTeamName = tmp + \"번 경기 승리팀 \";\n\t\t} else {\n\t\t\tvar a = nowMatchList[m][0];\n\t\t\t//console.log(m);\n\t\t\t//console.log(\"\"+nowMatchList);\n\t\t\tfirstTeamName = \"[\" + a + \"] \"\n\t\t\t\t\t+ results[a - 1]['playername1'] + \"/\"\n\t\t\t\t\t+ results[a - 1]['playername2'];\n\t\t}\n\t\thtmlTag += \"<td id='teamA'>\" + firstTeamName + \"</td>\";\n\n\t\thtmlTag += \"<td id='vs'>VS</td>\";\n\n\t\tvar lastTeamName = \"\";\n\t\t// 출력해줘야 될 팀명이 승자 내용이라면\n\t\tif (nowMatchList[m][1] > 100) {\n\t\t\tvar tmp = nowMatchList[m][1] - 100;\n\t\t\tlastTeamName = tmp + \"번 경기 승리팀 \";\n\t\t} else {\n\t\t\tlastTeamName = \"[\" + nowMatchList[m][1] + \"] \"\n\t\t\t\t\t+ results[nowMatchList[m][1] - 1]['playername1'] + \"/\"\n\t\t\t\t\t+ results[nowMatchList[m][1] - 1]['playername2'];\n\t\t}\n\t\thtmlTag += \"<td id='teamB' >\" + lastTeamName + \"</td>\";\n\t\t// htmlTag += \"<td>\" + \" ? : ? \" + \"</td>\";\n\t\t// htmlTag += \"<td>\" + \" ? \" + \"</td>\";\n\n\t\thtmlTag += \"</tr>\";\n\n\t}\n\thtmlTag += \"</table><br>\";\n\n\t$(\"#DrawMathList\").html(htmlTag);\n\n\tvar htmlTag_DBlog = \"\";\n\n\tvar str = \"\";\n\tfor (var m = 0; m < results.length - 1; m++) {\n\t\t//\n\t\tstr += results[m][\"gameid\"] + \"/\";\n\n\t\tstr += results[m][\"tourid\"] + \"/\";\n\n\t\t// matchid\n\t\tstr += (m + 1) + \"/\";\n\n\t\t// matchseq\n\t\tstr += nowMatchList[m][2] + \"/\";\n\n\t\t// teamid\n\t\tif (nowMatchList[m][0] > 100) {\n\t\t\tstr += \" /\";\n\t\t} else {\n\t\t\tstr += results[nowMatchList[m][0] - 1]['teamid'] + \"/\";\n\t\t}\n\n\t\tif (nowMatchList[m][1] > 100) {\n\t\t\tstr += \" /\";\n\t\t} else {\n\t\t\tstr += results[nowMatchList[m][1] - 1]['teamid'] + \"/\";\n\t\t}\n\t}\n\tvar str2 = \"\";\n\t\n\tfor (var m = 0; m < results.length ; m++) {\n\t\tstr2 += results[m]['teamid'] + \"/\";\n\t}\n\n\t//style='display:none'\n\thtmlTag_DBlog += \"<textarea style='display:visible' name='DBlogformnum' required='required'>\"\n\t\t\t+ (m) + \"</textarea>\";\n\thtmlTag_DBlog += \"<textarea style='display:visible' name='DBlogform' required='required'>\"\n\t\t\t+ str + \"</textarea>\";\n\thtmlTag_DBlog += \"<textarea style='display:visible' name='DBlogformplayer' required='required'>\"\n\t\t+ str2+ \"</textarea>\";\n\n\t$(\"#GameStatusByDBLog2\").html(htmlTag_DBlog);\n\n}\n\nfunction shuffle(arr) {\n\tif (arr instanceof Array) {\n\t\tvar len = arr.length;\n\t\tif (len == 1)\n\t\t\treturn arr;\n\t\tvar i = len * 2;\n\t\twhile (i > 0) {\n\t\t\tvar idx1 = Math.floor(Math.random() * len);\n\t\t\tvar idx2 = Math.floor(Math.random() * len);\n\t\t\tif (idx1 == idx2)\n\t\t\t\tcontinue;\n\t\t\tvar temp = arr[idx1];\n\t\t\tarr[idx1] = arr[idx2];\n\t\t\tarr[idx2] = temp;\n\t\t\ti--;\n\t\t}\n\t} else {\n\t\talert(\"No Array Object\");\n\t}\n\treturn arr;\n}\n\nfunction showTourStatusByMatch(results) {\n\n\tvar lastSeq = results[results.length - 1][\"matchSeq\"];\n\tvar htmlTag = \"\";\n\n\tfor (var matchSeq = 1; matchSeq <= lastSeq; matchSeq++) {\n\n\t\tif (matchSeq == lastSeq) {\n\t\t\thtmlTag += \"<b>결승전</b><br>\";\n\t\t} else if (matchSeq == lastSeq - 1) {\n\t\t\thtmlTag += \"<b>준결승전</b><br>\";\n\t\t} else {\n\t\t\thtmlTag += \"<b>\" + matchSeq + \"차전</b><br>\";\n\t\t}\n\n\t\thtmlTag += \"<table id='GameStatusByClub' border='1'>\";\n\n\t\thtmlTag += \"<tr>\";\n\t\thtmlTag += \"<th>경기번호</th>\";\n\t\thtmlTag += \"<th colspan='3'>매치</th>\";\n\t\thtmlTag += \"<th>스코어</th>\";\n\t\thtmlTag += \"<th>승리팀</th>\";\n\t\thtmlTag += \"<th>경기장</th>\";\n\t\thtmlTag += \"<th>경기일자</th>\";\n\t\thtmlTag += \"<th>경기시간</th>\";\n\t\thtmlTag += \"</tr>\";\n\n\t\tfor (var m = 0; m < results.length; m++) {\n\n\t\t\tif (matchSeq == results[m][\"matchSeq\"]) {\n\t\t\t\thtmlTag += \"<tr>\";\n\t\t\t\thtmlTag += \"<td>\" + results[m][\"matchId\"] + \"</td>\";\n\n\t\t\t\tif (!results[m][\"winner\"]) {\n\t\t\t\t\thtmlTag += \"<td id='teamA'>\" + results[m][\"teamA\"]\n\t\t\t\t\t\t\t+ \"</td>\";\n\t\t\t\t} else {\n\t\t\t\t\tif (results[m][\"teamA\"] == results[m][\"winner\"]) {\n\t\t\t\t\t\thtmlTag += \"<td id='teamA'><b><font color='blue'>\"\n\t\t\t\t\t\t\t\t+ results[m][\"teamA\"] + \"</font></b></td>\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtmlTag += \"<td id='teamA'><b><font color='red'>\"\n\t\t\t\t\t\t\t\t+ results[m][\"teamA\"] + \"</font></b></td>\";\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\thtmlTag += \"<td id='vs'>VS</td>\";\n\n\t\t\t\tif (!results[m][\"winner\"]) {\n\t\t\t\t\thtmlTag += \"<td id='teamB'>\" + results[m][\"teamB\"]\n\t\t\t\t\t\t\t+ \"</td>\";\n\t\t\t\t} else {\n\t\t\t\t\tif (results[m][\"teamB\"] == results[m][\"winner\"]) {\n\t\t\t\t\t\thtmlTag += \"<td id='teamB'><b><font color='blue'>\"\n\t\t\t\t\t\t\t\t+ results[m][\"teamB\"] + \"</font></b></td>\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\thtmlTag += \"<td id='teamB'><b><font color='red'>\"\n\t\t\t\t\t\t\t\t+ results[m][\"teamB\"] + \"</font></b></td>\";\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\thtmlTag += \"<td>\" + results[m][\"teamAscore\"] + ' : '\n\t\t\t\t\t\t+ results[m][\"teamBscore\"] + \"</td>\";\n\t\t\t\thtmlTag += \"<td>\" + results[m][\"winner\"] + \"</td>\";\n\t\t\t\thtmlTag += \"<td>\" + results[m][\"area\"] + \"</td>\";\n\t\t\t\thtmlTag += \"<td>\" + results[m][\"matchDate\"] + \"</td>\";\n\t\t\t\thtmlTag += \"<td>\" + results[m][\"beginTime\"] + ' ~ '\n\t\t\t\t\t\t+ results[m][\"endTime\"] + \"</td>\";\n\t\t\t\thtmlTag += \"</tr>\";\n\t\t\t}\n\t\t}\n\t\thtmlTag += \"</table><br>\";\n\t}\n\n\t$(\"#MatchStatus\").html(htmlTag);\n}\n\nfunction showGameStatusTotal(results, gameId) {\n\n\tvar totalList = [];\n\n\t// 배열로 만듬.\n\tvar tempClubList = [];\n\tfor (var i = 0; i < results.length; i++) {\n\t\ttempClubList.push(results[i][\"clubName1\"]);\n\t\ttempClubList.push(results[i][\"clubName2\"]);\n\t}\n\n\t// 클럽리스트 중복제거 및 오름차순 정렬하여 최종 totalList 생성.\n\tvar uClubList = uniqueArray(tempClubList).sort();\n\tfor (var i = 0; i < uClubList.length; i++) {\n\t\tmiddleArray = [];\n\t\tmiddleArray[\"seq\"] = i + 1;\n\t\tmiddleArray[\"clubName\"] = uClubList[i];\n\t\tmiddleArray[\"playerMan\"] = 0;\n\t\tmiddleArray[\"playerWoman\"] = 0;\n\t\tmiddleArray[\"playerSum\"] = 0;\n\n\t\tmiddleArray[\"teamMan\"] = 0.0;\n\t\tmiddleArray[\"teamWoman\"] = 0.0;\n\t\tmiddleArray[\"teamMix\"] = 0.0;\n\t\tmiddleArray[\"teamSum\"] = 0.0;\n\n\t\tmiddleArray[\"levelJg\"] = 0.0;\n\t\tmiddleArray[\"levelA\"] = 0.0;\n\t\tmiddleArray[\"levelB\"] = 0.0;\n\t\tmiddleArray[\"levelC\"] = 0.0;\n\t\tmiddleArray[\"levelCho\"] = 0.0;\n\t\tmiddleArray[\"levelSum\"] = 0.0;\n\t\ttotalList.push(middleArray);\n\t}\n\n\tfor (var i = 0; i < results.length; i++) {\n\n\t\tvar club1 = getArrayIndexByKey(totalList, \"clubName\",\n\t\t\t\tresults[i][\"clubName1\"]);\n\t\tvar club2 = getArrayIndexByKey(totalList, \"clubName\",\n\t\t\t\tresults[i][\"clubName2\"]);\n\n\t\t// 출전인원\n\t\tfor (var cnt = 1; cnt <= 2; cnt++) {\n\t\t\tif (cnt == 1) {\n\t\t\t\tvar c = club1;\n\t\t\t} else {\n\t\t\t\tvar c = club2;\n\t\t\t}\n\t\t\tif (results[i][\"playerId\" + cnt].charAt(7) == \"1\") {\n\t\t\t\ttotalList[c][\"playerMan\"] += 1;\n\t\t\t} else {\n\t\t\t\ttotalList[c][\"playerWoman\"] += 1;\n\t\t\t}\n\t\t\ttotalList[c][\"playerSum\"] += 1;\n\t\t}\n\n\t\t// 종목별팀수\n\t\tfor (var cnt = 1; cnt <= 2; cnt++) {\n\t\t\tif (cnt == 1) {\n\t\t\t\tvar c = club1;\n\t\t\t} else {\n\t\t\t\tvar c = club2;\n\t\t\t}\n\t\t\tif (results[i][\"gender\"] == \"남\") {\n\t\t\t\ttotalList[c][\"teamMan\"] += 0.5;\n\t\t\t} else if (results[i][\"gender\"] == \"여\") {\n\t\t\t\ttotalList[c][\"teamWoman\"] += 0.5;\n\t\t\t} else if (results[i][\"gender\"] == \"혼복\") {\n\t\t\t\ttotalList[c][\"teamMix\"] += 0.5;\n\t\t\t}\n\t\t\ttotalList[c][\"teamSum\"] += 0.5;\n\t\t}\n\n\t\t// 급수별팀수\n\t\tfor (var cnt = 1; cnt <= 2; cnt++) {\n\t\t\tif (cnt == 1) {\n\t\t\t\tvar c = club1;\n\t\t\t} else {\n\t\t\t\tvar c = club2;\n\t\t\t}\n\t\t\tif (results[i][\"level\"] == \"자강\") {\n\t\t\t\ttotalList[c][\"levelJg\"] += 0.5;\n\t\t\t} else if (results[i][\"level\"] == \"A\") {\n\t\t\t\ttotalList[c][\"levelA\"] += 0.5;\n\t\t\t} else if (results[i][\"level\"] == \"B\") {\n\t\t\t\ttotalList[c][\"levelB\"] += 0.5;\n\t\t\t} else if (results[i][\"level\"] == \"C\") {\n\t\t\t\ttotalList[c][\"levelC\"] += 0.5;\n\t\t\t} else if (results[i][\"level\"] == \"초\"\n\t\t\t\t\t|| results[i][\"level\"] == \"왕초\") {\n\t\t\t\ttotalList[c][\"levelCho\"] += 0.5;\n\t\t\t}\n\t\t\ttotalList[c][\"levelSum\"] += 0.5;\n\t\t}\n\t}\n\n\tvar htmlTag = \"<table id='GameStatusByClub' border='1'>\";\n\n\thtmlTag += \"<tr>\";\n\thtmlTag += \"<th rowspan='2' width='30px'>No.</th>\";\n\thtmlTag += \"<th rowspan='2' width='200px'>클럽명</th>\";\n\thtmlTag += \"<th colspan='3' width='30px'>출전인원</th>\";\n\thtmlTag += \"<th colspan='4' width='30px'>종목별팀수</th>\";\n\thtmlTag += \"<th colspan='6' width='30px'>급수별팀수</th>\";\n\thtmlTag += \"</tr>\";\n\n\thtmlTag += \"<tr>\";\n\thtmlTag += \"<th width='30px'>남</th>\";\n\thtmlTag += \"<th width='30px'>여</th>\";\n\thtmlTag += \"<th width='30px'><font color='red'>계</font></th>\";\n\n\thtmlTag += \"<th width='30px'>남</th>\";\n\thtmlTag += \"<th width='30px'>여</th>\";\n\thtmlTag += \"<th width='30px'>혼복</th>\";\n\thtmlTag += \"<th width='30px'><font color='red'>계</font></th>\";\n\n\thtmlTag += \"<th width='30px'>자강</th>\";\n\thtmlTag += \"<th width='30px'>A</th>\";\n\thtmlTag += \"<th width='30px'>B</th>\";\n\thtmlTag += \"<th width='30px'>C</th>\";\n\thtmlTag += \"<th width='30px'>초</th>\";\n\thtmlTag += \"<th width='30px'><font color='red'>계</font></th>\";\n\thtmlTag += \"</tr>\";\n\n\tvar playerManSum = 0;\n\tvar playerWomanSum = 0;\n\tvar playerSumSum = 0;\n\n\tvar teamManSum = 0.0;\n\tvar teamWomanSum = 0.0;\n\tvar teamMixSum = 0.0;\n\tvar teamSumSum = 0.0;\n\n\tvar levelJgSum = 0.0;\n\tvar levelASum = 0.0;\n\tvar levelBSum = 0.0;\n\tvar levelCSum = 0.0;\n\tvar levelChoSum = 0.0;\n\tvar levelSumSum = 0.0;\n\n\tfor (var i = 0; i < totalList.length; i++) {\n\t\tvar obj = totalList[i];\n\n\t\tplayerManSum += obj[\"playerMan\"];\n\t\tplayerWomanSum += obj[\"playerWoman\"];\n\t\tplayerSumSum += obj[\"playerSum\"];\n\n\t\tteamManSum += obj[\"teamMan\"];\n\t\tteamWomanSum += obj[\"teamWoman\"];\n\t\tteamMixSum += obj[\"teamMix\"];\n\t\tteamSumSum += obj[\"teamSum\"];\n\n\t\tlevelJgSum += obj[\"levelJg\"];\n\t\tlevelASum += obj[\"levelA\"];\n\t\tlevelBSum += obj[\"levelB\"];\n\t\tlevelCSum += obj[\"levelC\"];\n\t\tlevelChoSum += obj[\"levelCho\"];\n\t\tlevelSumSum += obj[\"levelSum\"];\n\n\t\thtmlTag += \"<tr>\";\n\t\thtmlTag += \"<td>\" + obj[\"seq\"] + \"</td>\";\n\t\thtmlTag += \"<td>\" + \"<a id='clubLink' href='gameMainClub.php?gameId=\" + gameId + \"&clubName=\" + obj[\"clubName\"] + \"'>\" + obj[\"clubName\"] + \"</a></td>\";\n\t\thtmlTag += \"<td>\" + obj[\"playerMan\"] + \"</td>\";\n\t\thtmlTag += \"<td>\" + obj[\"playerWoman\"] + \"</td>\";\n\t\thtmlTag += \"<td id='sum'>\" + obj[\"playerSum\"] + \"</td>\";\n\n\t\thtmlTag += \"<td>\" + obj[\"teamMan\"] + \"</td>\";\n\t\thtmlTag += \"<td>\" + obj[\"teamWoman\"] + \"</td>\";\n\t\thtmlTag += \"<td>\" + obj[\"teamMix\"] + \"</td>\";\n\t\thtmlTag += \"<td id='sum'>\" + obj[\"teamSum\"] + \"</td>\";\n\n\t\thtmlTag += \"<td>\" + obj[\"levelJg\"] + \"</td>\";\n\t\thtmlTag += \"<td>\" + obj[\"levelA\"] + \"</td>\";\n\t\thtmlTag += \"<td>\" + obj[\"levelB\"] + \"</td>\";\n\t\thtmlTag += \"<td>\" + obj[\"levelC\"] + \"</td>\";\n\t\thtmlTag += \"<td>\" + obj[\"levelCho\"] + \"</td>\";\n\t\thtmlTag += \"<td id='sum'>\" + obj[\"levelSum\"] + \"</td>\";\n\t\thtmlTag += \"</tr>\";\n\n\t}\n\n\thtmlTag += \"<tr id='sum'>\";\n\thtmlTag += \"<td colspan='2'>합계</td>\";\n\thtmlTag += \"<td>\" + playerManSum + \"</td>\";\n\thtmlTag += \"<td>\" + playerWomanSum + \"</td>\";\n\thtmlTag += \"<td id='finalSum'>\" + playerSumSum + \"</td>\";\n\n\thtmlTag += \"<td>\" + teamManSum + \"</td>\";\n\thtmlTag += \"<td>\" + teamWomanSum + \"</td>\";\n\thtmlTag += \"<td>\" + teamMixSum + \"</td>\";\n\thtmlTag += \"<td id='finalSum'>\" + teamSumSum + \"</td>\";\n\n\thtmlTag += \"<td>\" + levelJgSum + \"</td>\";\n\thtmlTag += \"<td>\" + levelASum + \"</td>\";\n\thtmlTag += \"<td>\" + levelBSum + \"</td>\";\n\thtmlTag += \"<td>\" + levelCSum + \"</td>\";\n\thtmlTag += \"<td>\" + levelChoSum + \"</td>\";\n\thtmlTag += \"<td id='finalSum'>\" + levelSumSum + \"</td>\";\n\thtmlTag += \"</tr>\";\n\thtmlTag += \"</table><br><br>\";\n\t$(\"#GameGeneralInfoDetail\").html(htmlTag);\n\n}\n\nfunction showEntryFeeByAge(results, ageArr, entryFee) {\n\n\tconsole.log(ageArr);\n\n\t// 배열로 만듬.\n\tvar tempClubList = [];\n\tfor (var i = 0; i < results.length; i++) {\n\t\ttempClubList.push(results[i][\"clubName1\"]);\n\t\ttempClubList.push(results[i][\"clubName2\"]);\n\t}\n\n\t// 클럽리스트 중복제거 및 오름차순 정렬하여 최종 totalList 생성.\n\tvar totalList = [];\n\tvar uClubList = uniqueArray(tempClubList).sort();\n\tfor (var i = 0; i < uClubList.length; i++) {\n\t\tmiddleArray = [];\n\t\tmiddleArray[\"seq\"] = i + 1;\n\t\tmiddleArray[\"clubName\"] = uClubList[i];\n\t\tmiddleArray[\"gameCntSum\"] = 0.0;\n\t\tmiddleArray[\"gameFeeSum\"] = 0;\n\n\t\tfor (var a = 0; a < ageArr.length; a++) {\n\t\t\tmiddleArray[\"gameCnt\" + ageArr[a]] = 0.0;\n\t\t}\n\n\t\ttotalList.push(middleArray);\n\t}\n\n\tconsole.log(totalList);\n\n\tfor (var i = 0; i < results.length; i++) {\n\n\t\tvar club1 = getArrayIndexByKey(totalList, \"clubName\",\n\t\t\t\tresults[i][\"clubName1\"]);\n\t\tvar club2 = getArrayIndexByKey(totalList, \"clubName\",\n\t\t\t\tresults[i][\"clubName2\"]);\n\n\t\t// 연령대별 출전팀\n\t\tfor (var cnt = 1; cnt <= 2; cnt++) {\n\t\t\tif (cnt == 1) {\n\t\t\t\tvar c = club1;\n\t\t\t} else {\n\t\t\t\tvar c = club2;\n\t\t\t}\n\t\t\ttotalList[c][\"gameCnt\" + results[i][\"age\"]] += 0.5;\n\t\t\ttotalList[c][\"gameCntSum\"] += 0.5;\n\t\t\ttotalList[c][\"gameFeeSum\"] = totalList[c][\"gameCntSum\"] * entryFee;\n\t\t}\n\t}\n\n\tvar htmlTag = \"<table id='GameStatusByClub' border='1'>\";\n\t//\t\n\thtmlTag += \"<tr>\";\n\thtmlTag += \"<th width='30px'>No.</th>\";\n\thtmlTag += \"<th width='200px'>클럽명</th>\";\n\n\tfor (var i = 0; i < ageArr.length; i++) {\n\t\thtmlTag += \"<th width='35px'>\" + ageArr[i] + \"대</th>\";\n\t}\n\n\thtmlTag += \"<th width='30px'>계</th>\";\n\thtmlTag += \"<th width='30px'>총참가비</th>\";\n\thtmlTag += \"</tr>\";\n\n\tvar gameCntSum = 0;\n\tvar gameFeeSum = 0;\n\n\tvar gameSum = [];\n\n\tfor (var i = 0; i < totalList.length; i++) {\n\t\tvar obj = totalList[i];\n\n\t\tif (i == 0) {\n\t\t\tgameSum[\"gameCntSum\"] = obj[\"gameCntSum\"];\n\t\t\tgameSum[\"gameFeeSum\"] = obj[\"gameFeeSum\"];\n\n\t\t} else {\n\t\t\tgameSum[\"gameCntSum\"] += obj[\"gameCntSum\"];\n\t\t\tgameSum[\"gameFeeSum\"] += obj[\"gameFeeSum\"];\n\t\t}\n\n\t\thtmlTag += \"<tr>\";\n\t\thtmlTag += \"<td>\" + obj[\"seq\"] + \"</td>\";\n\t\thtmlTag += \"<td>\" + obj[\"clubName\"] + \"</td>\";\n\n\t\tfor (var a = 0; a < ageArr.length; a++) {\n\t\t\thtmlTag += \"<td>\" + obj[\"gameCnt\" + ageArr[a]] + \"</td>\";\n\n\t\t\tif (i == 0) {\n\t\t\t\tgameSum[\"gameCntSum\" + ageArr[a]] = obj[\"gameCnt\" + ageArr[a]];\n\t\t\t} else {\n\t\t\t\tgameSum[\"gameCntSum\" + ageArr[a]] += obj[\"gameCnt\" + ageArr[a]];\n\t\t\t}\n\t\t}\n\n\t\thtmlTag += \"<td>\" + obj[\"gameCntSum\"] + \"</td>\";\n\t\thtmlTag += \"<td>\" + obj[\"gameFeeSum\"].toLocaleString() + \"</td>\";\n\t\thtmlTag += \"</tr>\";\n\t}\n\n\tconsole.log(gameSum);\n\n\thtmlTag += \"<tr id='sum'>\";\n\thtmlTag += \"<td colspan='2'>합계</td>\";\n\n\tfor (var a = 0; a < ageArr.length; a++) {\n\t\thtmlTag += \"<td>\" + gameSum[\"gameCntSum\" + ageArr[a]] + \"</td>\";\n\t}\n\thtmlTag += \"<td>\" + gameSum[\"gameCntSum\"] + \"</td>\";\n\thtmlTag += \"<td id='finalSum'>\" + gameSum[\"gameFeeSum\"].toLocaleString()\n\t\t\t+ \"</td>\";\n\n\thtmlTag += \"</tr>\";\n\thtmlTag += \"</table><br><br>\";\n\t$(\"#ManageGameDetail\").html(htmlTag);\n\n}\n\nfunction showGameListMobile(jsonArray) {\n\tvar htmlTag = \"\";\n\tfor (var i = 0; i < jsonArray.length; i++) {\n\t\thtmlTag += \"<li><a href='gameMainMo.php?gameId=\"\n\t\t\t\t+ jsonArray[i]['gameId']\n\t\t\t\t+ \"' rel='external', data-ajax='false'>\";\n\t\thtmlTag += \"<h1>\" + jsonArray[i]['gameName'] + \"</h1>\";\n\t\thtmlTag += \"<p>\" + jsonArray[i]['region'] + \" / \"\n\t\t\t\t+ jsonArray[i]['owner'] + \"</p>\";\n\t\thtmlTag += \"<p>\" + jsonArray[i]['beginDate'] + \" ~ \"\n\t\t\t\t+ jsonArray[i]['beginDate'] + \"</p>\";\n\t\thtmlTag += \"</a></li>\";\n\t}\n\t$(\"#GameList:jqmData(role='listview')\").html(htmlTag).listview().listview(\n\t\t\t\"refresh\");\n}\n\nfunction showUserListGridMo(jsonArray) {\n\tconsole.log(jsonArray);\n\tvar htmlTag = \"\";\n\tfor (var i = 0; i < jsonArray.length; i++) {\n\t\thtmlTag += \"<li><a href='myGameMainMo.php?playerName=\"\n\t\t\t\t+ jsonArray[i]['playerName'] + \"&playerId=\" + jsonArray[i]['playerId'] \n\t\t\t\t+ \"' rel='external', data-ajax='false'>\";\n\t\thtmlTag += \"<h1>\" + jsonArray[i]['playerName'] + \"</h1>\";\n\t\thtmlTag += \"<p>\" + jsonArray[i]['playerId'] + \"</p>\";\n\t\thtmlTag += \"</a></li>\";\n\t}\n\t$(\"#UserList:jqmData(role='listview')\").html(htmlTag).listview().listview(\n\t\t\t\"refresh\");\n}\n\nfunction showMyMatchListMobile(jsonArray) {\n\tvar htmlTag = \"\";\n\tfor (var i = 0; i < jsonArray.length; i++) {\n\t\thtmlTag += \"<li><a href='gameMainMo.php?gameId=\"\n\t\t\t\t+ jsonArray[i]['gameId']\n\t\t\t\t+ \"' rel='external', data-ajax='false'>\";\n\t\thtmlTag += \"<h1>\" + jsonArray[i]['gameName'] + \"</h1>\";\n\t\thtmlTag += \"<p>\" + jsonArray[i]['tourName'] + \" / \" + jsonArray[i]['area'] + \" / \" + jsonArray[i]['beginTime'] + \"</p>\";\n\t\t\n\t\thtmlTag += \"<p>\" + \"[\" + jsonArray[i]['team_a_clubName1'] + \"]\" + jsonArray[i]['team_a_playerName1']\n\t\t\t\t+ \" & \" + \"[\" + jsonArray[i]['team_a_clubName2'] + \"]\" + jsonArray[i]['team_a_playerName2'] + \" 대</p>\";\n\t\thtmlTag += \"<p>\" + \"[\" + jsonArray[i]['team_b_clubName1'] + \"]\" + jsonArray[i]['team_b_playerName1']\n\t\t\t\t+ \" & \" + \"[\" + jsonArray[i]['team_b_clubName2'] + \"]\" + jsonArray[i]['team_b_playerName2'] + \"</p>\";\n\t\thtmlTag += \"</a></li>\";\n\t}\n\t$(\"#MatchList:jqmData(role='listview')\").html(htmlTag).listview().listview(\n\t\t\t\"refresh\");\n}\n\nfunction showBoardListMobile(jsonArray) {\n\tvar htmlTag = \"\";\n\tconsole.log(jsonArray);\n\tfor (var i = 0; i < jsonArray.length; i++) {\n\t\tif (jsonArray[i]['boardType'] == 'game') {\n\t\t\thtmlTag += \"<li><a href='boardViewMo.php?type=\"\n\t\t\t\t\t+ jsonArray[i]['boardType'] + \"&idx=\" + jsonArray[i]['idx']\n\t\t\t\t\t+ \"&gameId=\" + jsonArray[i]['gameId']\n\t\t\t\t\t+ \"' rel='external', data-ajax='false'>\";\n\t\t} else {\n\t\t\thtmlTag += \"<li><a href='boardViewMo.php?type=\"\n\t\t\t\t\t+ jsonArray[i]['boardType'] + \"&idx=\" + jsonArray[i]['idx']\n\t\t\t\t\t+ \"' rel='external', data-ajax='false'>\";\n\t\t}\n\n\t\thtmlTag += \"<h1>\" + jsonArray[i]['title'] + \"</h1>\";\n\t\thtmlTag += \"<p>작성자 : \" + jsonArray[i]['insertUser'] + \" (\"\n\t\t\t\t+ jsonArray[i]['insertDate'] + \")</p>\";\n\t\thtmlTag += \"<p>조회수 : \" + jsonArray[i]['hits'] + \"</p>\";\n\t\thtmlTag += \"</a></li>\";\n\t}\n\t$(\"#boardList:jqmData(role='listview')\").html(htmlTag).listview().listview(\n\t\t\t\"refresh\");\n}\n\nfunction getArrayIndexByKey(arr, key, value) {\n\tfor (var i = 0; i < arr.length; i++) {\n\t\tif (arr[i][key] == value) {\n\t\t\treturn i;\n\t\t}\n\t}\n}","undoManager":{"mark":81,"position":79,"stack":[[{"start":{"row":1123,"column":1},"end":{"row":1123,"column":4},"action":"insert","lines":["// "],"id":2}],[{"start":{"row":1120,"column":52},"end":{"row":1120,"column":53},"action":"insert","lines":[","],"id":4}],[{"start":{"row":1120,"column":53},"end":{"row":1120,"column":54},"action":"insert","lines":[" "],"id":5}],[{"start":{"row":1120,"column":53},"end":{"row":1120,"column":54},"action":"remove","lines":[" "],"id":6}],[{"start":{"row":1120,"column":53},"end":{"row":1120,"column":54},"action":"insert","lines":["g"],"id":7}],[{"start":{"row":1120,"column":54},"end":{"row":1120,"column":55},"action":"insert","lines":["a"],"id":8}],[{"start":{"row":1120,"column":55},"end":{"row":1120,"column":56},"action":"insert","lines":["m"],"id":9}],[{"start":{"row":1120,"column":56},"end":{"row":1120,"column":57},"action":"insert","lines":["e"],"id":10}],[{"start":{"row":1120,"column":57},"end":{"row":1120,"column":58},"action":"insert","lines":["N"],"id":11}],[{"start":{"row":1120,"column":58},"end":{"row":1120,"column":59},"action":"insert","lines":["a"],"id":12}],[{"start":{"row":1120,"column":59},"end":{"row":1120,"column":60},"action":"insert","lines":["m"],"id":13}],[{"start":{"row":1120,"column":60},"end":{"row":1120,"column":61},"action":"insert","lines":["e"],"id":14}],[{"start":{"row":1120,"column":61},"end":{"row":1120,"column":62},"action":"insert","lines":[","],"id":15}],[{"start":{"row":1120,"column":62},"end":{"row":1120,"column":63},"action":"insert","lines":[" "],"id":16}],[{"start":{"row":1120,"column":63},"end":{"row":1120,"column":64},"action":"insert","lines":["t"],"id":17}],[{"start":{"row":1120,"column":64},"end":{"row":1120,"column":65},"action":"insert","lines":["u"],"id":18}],[{"start":{"row":1120,"column":64},"end":{"row":1120,"column":65},"action":"remove","lines":["u"],"id":19}],[{"start":{"row":1120,"column":63},"end":{"row":1120,"column":64},"action":"remove","lines":["t"],"id":20}],[{"start":{"row":1120,"column":63},"end":{"row":1120,"column":64},"action":"insert","lines":["t"],"id":21}],[{"start":{"row":1120,"column":64},"end":{"row":1120,"column":65},"action":"insert","lines":["o"],"id":22}],[{"start":{"row":1120,"column":65},"end":{"row":1120,"column":66},"action":"insert","lines":["u"],"id":23}],[{"start":{"row":1120,"column":66},"end":{"row":1120,"column":67},"action":"insert","lines":["r"],"id":24}],[{"start":{"row":1120,"column":67},"end":{"row":1120,"column":68},"action":"insert","lines":["N"],"id":25}],[{"start":{"row":1120,"column":68},"end":{"row":1120,"column":69},"action":"insert","lines":["a"],"id":26}],[{"start":{"row":1120,"column":69},"end":{"row":1120,"column":70},"action":"insert","lines":["m"],"id":27}],[{"start":{"row":1120,"column":70},"end":{"row":1120,"column":71},"action":"insert","lines":["e"],"id":28}],[{"start":{"row":1169,"column":19},"end":{"row":1169,"column":39},"action":"remove","lines":["results[0]['age'] + "],"id":29}],[{"start":{"row":1169,"column":19},"end":{"row":1169,"column":20},"action":"insert","lines":["ㅎ"],"id":30}],[{"start":{"row":1169,"column":20},"end":{"row":1169,"column":21},"action":"insert","lines":["ㅁ"],"id":32},{"start":{"row":1169,"column":20},"end":{"row":1169,"column":21},"action":"remove","lines":["ㅁ"]}],[{"start":{"row":1169,"column":19},"end":{"row":1169,"column":20},"action":"remove","lines":["ㅎ"],"id":33},{"start":{"row":1169,"column":19},"end":{"row":1169,"column":20},"action":"insert","lines":["g"]},{"start":{"row":1169,"column":20},"end":{"row":1169,"column":21},"action":"insert","lines":["a"]}],[{"start":{"row":1169,"column":21},"end":{"row":1169,"column":22},"action":"insert","lines":["m"],"id":34}],[{"start":{"row":1169,"column":22},"end":{"row":1169,"column":23},"action":"insert","lines":["e"],"id":35},{"start":{"row":1169,"column":23},"end":{"row":1169,"column":24},"action":"insert","lines":["N"]}],[{"start":{"row":1169,"column":24},"end":{"row":1169,"column":25},"action":"insert","lines":["a"],"id":36}],[{"start":{"row":1169,"column":25},"end":{"row":1169,"column":26},"action":"insert","lines":["m"],"id":37}],[{"start":{"row":1169,"column":26},"end":{"row":1169,"column":27},"action":"insert","lines":["e"],"id":38}],[{"start":{"row":1169,"column":27},"end":{"row":1169,"column":28},"action":"insert","lines":[" "],"id":39}],[{"start":{"row":1169,"column":28},"end":{"row":1169,"column":29},"action":"insert","lines":["+"],"id":40}],[{"start":{"row":1169,"column":29},"end":{"row":1169,"column":30},"action":"insert","lines":[" "],"id":41}],[{"start":{"row":1169,"column":36},"end":{"row":1169,"column":62},"action":"remove","lines":["results[0]['level'] + '급 '"],"id":42}],[{"start":{"row":1169,"column":36},"end":{"row":1169,"column":37},"action":"insert","lines":["t"],"id":43},{"start":{"row":1169,"column":37},"end":{"row":1169,"column":38},"action":"insert","lines":["o"]},{"start":{"row":1169,"column":38},"end":{"row":1169,"column":39},"action":"insert","lines":["u"]},{"start":{"row":1169,"column":39},"end":{"row":1169,"column":40},"action":"insert","lines":["r"]}],[{"start":{"row":1169,"column":40},"end":{"row":1169,"column":41},"action":"insert","lines":["N"],"id":44}],[{"start":{"row":1169,"column":41},"end":{"row":1169,"column":42},"action":"insert","lines":["a"],"id":45}],[{"start":{"row":1169,"column":42},"end":{"row":1169,"column":43},"action":"insert","lines":["m"],"id":46}],[{"start":{"row":1169,"column":43},"end":{"row":1169,"column":44},"action":"insert","lines":["e"],"id":47}],[{"start":{"row":1169,"column":44},"end":{"row":1170,"column":0},"action":"remove","lines":["",""],"id":48}],[{"start":{"row":1169,"column":44},"end":{"row":1169,"column":45},"action":"remove","lines":["\t"],"id":49},{"start":{"row":1169,"column":44},"end":{"row":1169,"column":45},"action":"remove","lines":["\t"]},{"start":{"row":1169,"column":44},"end":{"row":1169,"column":45},"action":"remove","lines":["\t"]}],[{"start":{"row":1169,"column":44},"end":{"row":1169,"column":45},"action":"insert","lines":[" "],"id":50}],[{"start":{"row":1169,"column":45},"end":{"row":1169,"column":67},"action":"remove","lines":["+ results[0]['gender']"],"id":51}],[{"start":{"row":1169,"column":44},"end":{"row":1169,"column":45},"action":"remove","lines":[" "],"id":52}],[{"start":{"row":1169,"column":32},"end":{"row":1169,"column":33},"action":"insert","lines":["/"],"id":53},{"start":{"row":1169,"column":33},"end":{"row":1169,"column":34},"action":"insert","lines":[" "]}],[{"start":{"row":1169,"column":15},"end":{"row":1169,"column":16},"action":"insert","lines":[" "],"id":54}],[{"start":{"row":1169,"column":51},"end":{"row":1169,"column":52},"action":"insert","lines":[" "],"id":55}],[{"start":{"row":1198,"column":3},"end":{"row":1198,"column":6},"action":"insert","lines":["// "],"id":56},{"start":{"row":1199,"column":3},"end":{"row":1199,"column":6},"action":"insert","lines":["// "]},{"start":{"row":1200,"column":3},"end":{"row":1200,"column":6},"action":"insert","lines":["// "]},{"start":{"row":1201,"column":3},"end":{"row":1201,"column":6},"action":"insert","lines":["// "]},{"start":{"row":1202,"column":3},"end":{"row":1202,"column":6},"action":"insert","lines":["// "]},{"start":{"row":1203,"column":3},"end":{"row":1203,"column":6},"action":"insert","lines":["// "]},{"start":{"row":1204,"column":3},"end":{"row":1204,"column":6},"action":"insert","lines":["// "]},{"start":{"row":1205,"column":3},"end":{"row":1205,"column":6},"action":"insert","lines":["// "]}],[{"start":{"row":1230,"column":32},"end":{"row":1230,"column":33},"action":"remove","lines":["0"],"id":57},{"start":{"row":1230,"column":31},"end":{"row":1230,"column":32},"action":"remove","lines":["9"]}],[{"start":{"row":1230,"column":31},"end":{"row":1230,"column":32},"action":"insert","lines":["0"],"id":58}],[{"start":{"row":1230,"column":31},"end":{"row":1230,"column":32},"action":"remove","lines":["0"],"id":59}],[{"start":{"row":1230,"column":31},"end":{"row":1230,"column":32},"action":"insert","lines":["2"],"id":60},{"start":{"row":1230,"column":32},"end":{"row":1230,"column":33},"action":"insert","lines":["0"]}],[{"start":{"row":1230,"column":32},"end":{"row":1230,"column":33},"action":"remove","lines":["0"],"id":61}],[{"start":{"row":1230,"column":31},"end":{"row":1230,"column":32},"action":"remove","lines":["2"],"id":62},{"start":{"row":1230,"column":31},"end":{"row":1230,"column":32},"action":"insert","lines":["3"]}],[{"start":{"row":1230,"column":32},"end":{"row":1230,"column":33},"action":"insert","lines":["5"],"id":63}],[{"start":{"row":1230,"column":32},"end":{"row":1230,"column":33},"action":"remove","lines":["5"],"id":64}],[{"start":{"row":1230,"column":31},"end":{"row":1230,"column":32},"action":"remove","lines":["3"],"id":65}],[{"start":{"row":1230,"column":31},"end":{"row":1230,"column":32},"action":"insert","lines":["5"],"id":66}],[{"start":{"row":1230,"column":32},"end":{"row":1230,"column":33},"action":"insert","lines":["0"],"id":67}],[{"start":{"row":1210,"column":55},"end":{"row":1210,"column":56},"action":"remove","lines":["5"],"id":68}],[{"start":{"row":1210,"column":54},"end":{"row":1210,"column":55},"action":"remove","lines":["1"],"id":69}],[{"start":{"row":1210,"column":54},"end":{"row":1210,"column":55},"action":"insert","lines":["2"],"id":70}],[{"start":{"row":1210,"column":55},"end":{"row":1210,"column":56},"action":"insert","lines":["0"],"id":71}],[{"start":{"row":1210,"column":55},"end":{"row":1210,"column":56},"action":"remove","lines":["0"],"id":72},{"start":{"row":1210,"column":54},"end":{"row":1210,"column":55},"action":"remove","lines":["2"]}],[{"start":{"row":1210,"column":54},"end":{"row":1210,"column":55},"action":"insert","lines":["4"],"id":73}],[{"start":{"row":1210,"column":55},"end":{"row":1210,"column":56},"action":"insert","lines":["0"],"id":74}],[{"start":{"row":1210,"column":55},"end":{"row":1210,"column":56},"action":"remove","lines":["0"],"id":75},{"start":{"row":1210,"column":54},"end":{"row":1210,"column":55},"action":"remove","lines":["4"]}],[{"start":{"row":1210,"column":54},"end":{"row":1210,"column":55},"action":"insert","lines":["2"],"id":76},{"start":{"row":1210,"column":55},"end":{"row":1210,"column":56},"action":"insert","lines":["0"]}],[{"start":{"row":1210,"column":55},"end":{"row":1210,"column":56},"action":"remove","lines":["0"],"id":77}],[{"start":{"row":1210,"column":55},"end":{"row":1210,"column":56},"action":"insert","lines":["5"],"id":78}],[{"start":{"row":1163,"column":40},"end":{"row":1163,"column":41},"action":"remove","lines":[" "],"id":92},{"start":{"row":1163,"column":40},"end":{"row":1163,"column":41},"action":"insert","lines":["5"]}],[{"start":{"row":1163,"column":40},"end":{"row":1163,"column":41},"action":"remove","lines":["5"],"id":93}],[{"start":{"row":1163,"column":40},"end":{"row":1163,"column":41},"action":"remove","lines":["6"],"id":94}],[{"start":{"row":1163,"column":40},"end":{"row":1163,"column":41},"action":"insert","lines":["5"],"id":95}],[{"start":{"row":1163,"column":40},"end":{"row":1163,"column":41},"action":"insert","lines":[" "],"id":96}],[{"start":{"row":1158,"column":28},"end":{"row":1158,"column":29},"action":"insert","lines":["3"],"id":112}],[{"start":{"row":1158,"column":28},"end":{"row":1158,"column":29},"action":"remove","lines":["5"],"id":112}]]},"ace":{"folds":[],"scrolltop":32973,"scrollleft":0,"selection":{"start":{"row":2077,"column":3},"end":{"row":2078,"column":37},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":2059,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1471906936832}